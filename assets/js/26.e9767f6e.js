(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{432:function(t,s,a){"use strict";a.r(s);var r=a(36),e=Object(r.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"一、安装docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、安装docker"}},[t._v("#")]),t._v(" 一、安装Docker")]),t._v(" "),a("h3",{attrs:{id:"_1-windows"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-windows"}},[t._v("#")]),t._v(" 1.windows")]),t._v(" "),a("p",[t._v("在Windows下，docker是默认安装在C盘之下的，")]),t._v(" "),a("p",[t._v("首先使用mklink 进行联接：")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("C:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Windows"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("system3"),a("span",{pre:!0,attrs:{class:"token operator"}},[a("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("mklink /J "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"C:\\Program Files\\Docker"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"D:\\Program Files\\Docker"')]),t._v("\n")])])]),a("p",[t._v("运行结果如下：")]),t._v(" "),a("p",[a("code",[t._v("C:\\Program Files\\Docker是Docker")]),t._v("的默认安装位置，"),a("code",[t._v("D:\\Program Files\\Docker")]),t._v("是你希望它安装的位置，一旦设立了联接，Docker的安装器会以为它安装在了"),a("code",[t._v("C:\\Program Files\\Docker")]),t._v("但实际上所有文件都被安装在了"),a("code",[t._v("D:\\Program Files\\Docker")])]),t._v(" "),a("p",[t._v("注1：希望它安装的位置可以是任意硬盘上已有的盘符，但是C:\\Program Files里不能有Docker文件夹否则会出现文件夹已存在的警告并联接失败。\n注2：需要在管理员模式下运行。")]),t._v(" "),a("h3",{attrs:{id:"_2-linux"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-linux"}},[t._v("#")]),t._v(" 2.linux")]),t._v(" "),a("p",[t._v("安装我们直接使用"),a("code",[t._v("shell")]),t._v("脚本来进行安装，安装脚本的地址如下   "),a("code",[t._v("get.docker.com")])]),t._v(" "),a("p",[t._v("可以直接使用curl命令下载这个shell脚本")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[t._v("curl "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("fsSL get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("docker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o get"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("docker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sh\n")])])]),a("p",[t._v("执行shell脚本")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[t._v("sh get"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("docker"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sh\n")])])]),a("p",[t._v("回车后就开始安装Docker了。这里需要注意，如果你不是"),a("code",[t._v("root")]),t._v("用户，是需要使用"),a("code",[t._v("sudo")]),t._v("命令或者给用户sudo权限。")]),t._v(" "),a("p",[t._v("安装过程大概要3-4分钟左右，也是主要看网速和服务器性能。")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://jspang.com/detailed?id=75#toc312",target:"_blank",rel:"noopener noreferrer"}},[t._v("检测是否安装成功"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("安装完成后，依然通过"),a("code",[t._v("docker version")]),t._v("命令检查是否安装成功。")]),t._v(" "),a("p",[t._v("如果只显示下面的这些信息，也就是只启动了客户端"),a("code",[t._v("Client")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Client")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Docker Engine "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" Community\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Version")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20.10")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".7")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("API")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.41")]),t._v("\n Go version"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("        go1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("13.15")]),t._v("\n Git commit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("        f0df350\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Built")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("             Wed Jun  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("58")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("OS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Arch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("           linux"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("amd64\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Context")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Experimental")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\nCannot connect to the Docker daemon at unix"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//var/run/docker.sock. Is the docker daemon running?")]),t._v("\n")])])]),a("p",[t._v("这时候要使用"),a("code",[t._v("systemctl start")]),t._v("命令，开启Docker服务端。")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[t._v("sudo systemctl start docker\n")])])]),a("p",[t._v("开启后，再使用"),a("code",[t._v("sudo docker version")]),t._v("来看一下，如果有类似下面的信息，说明已经安装成功了。")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Client")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Docker Engine "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" Community\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Version")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20.10")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".7")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("API")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.41")]),t._v("\n Go version"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("        go1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("13.15")]),t._v("\n Git commit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("        f0df350\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Built")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("             Wed Jun  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("58")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("OS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Arch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("           linux"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("amd64\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Context")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("           "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Experimental")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Server")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Docker Engine "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" Community\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Engine")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Version")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("          "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20.10")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".7")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("API")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("      "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.41")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("minimum version "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.12")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  Go version"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("       go1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("13.15")]),t._v("\n  Git commit"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("       b0f5bc3\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Built")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("            Wed Jun  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("56")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("35")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2021")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("OS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Arch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("          linux"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("amd64\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Experimental")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("containerd")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Version")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("          "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.4")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".8")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("GitCommit")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("        7eba5930496d9bbe375fdf71603e610ad737d2b2\n "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("runc")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Version")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("          "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("GitCommit")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("        v1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("g84113ee\n docker"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("init"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Version")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("          "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.19")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("GitCommit")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("        de40ad0\n")])])]),a("h2",{attrs:{id:"二、创建容器的相关命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、创建容器的相关命令"}},[t._v("#")]),t._v(" 二、创建容器的相关命令")]),t._v(" "),a("h3",{attrs:{id:"创建容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建容器"}},[t._v("#")]),t._v(" 创建容器")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[t._v("docker container run "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" image name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("h3",{attrs:{id:"查看容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看容器"}},[t._v("#")]),t._v(" 查看容器")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[t._v("docker container ls     或者 docker container ps\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CONTAINER")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 容器对应的"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("ID")]),t._v("，这个是唯一的\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("IMAGE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 使用的镜像名称，显示不同\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("COMMAND")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 执行的相关命令\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CREATED")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 创建的时间\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("STATUS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 目前镜像的状态，一般会有两种状态Up和Exited"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("PORTS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 协议和端口\n"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NAMES")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 容器的名称，名字是Docker随机生成的\n")])])]),a("h3",{attrs:{id:"停止容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#停止容器"}},[t._v("#")]),t._v(" 停止容器")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[t._v("docker container stop "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("or")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ID")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("   停止单个容器\ndocker container stop  ")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ID1")])]),t._v("  "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ID2")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ID3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v(" 停止多个容器\n")])])])]),a("h3",{attrs:{id:"删除容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#删除容器"}},[t._v("#")]),t._v(" 删除容器")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[t._v("docker container rm "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("name")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("or")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ID")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n")])])])]),a("h3",{attrs:{id:"简写命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简写命令"}},[t._v("#")]),t._v(" 简写命令")]),t._v(" "),a("ul",[a("li",[t._v("容器的创建："),a("code",[t._v("docker container run nginx")]),t._v(" 简写方法 "),a("code",[t._v("docker run nginx")])]),t._v(" "),a("li",[t._v("容器的列出(up): "),a("code",[t._v("docker container ls")]),t._v(" 简写方法"),a("code",[t._v("docker ps")])]),t._v(" "),a("li",[t._v("容器的列出（up和exit）："),a("code",[t._v("docker container ls -a")]),t._v(" 简写方法"),a("code",[t._v("docker ps -a")])]),t._v(" "),a("li",[t._v("容器的停止 ："),a("code",[t._v("docker container stop")]),t._v("简写方法 "),a("code",[t._v("docker stop")])]),t._v(" "),a("li",[t._v("容器的删除："),a("code",[t._v("docker container rm")]),t._v(" 简写方法"),a("code",[t._v("docker rm")])]),t._v(" "),a("li",[t._v("容器重命名 "),a("code",[t._v("docker rename [old_name|container ID] Information-platform-demo")])])]),t._v(" "),a("h3",{attrs:{id:"查看所有的容器id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看所有的容器id"}},[t._v("#")]),t._v(" 查看所有的容器ID")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[t._v("docker container ps "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("aq\n")])])]),a("h4",{attrs:{id:"组合功能-删除多个容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#组合功能-删除多个容器"}},[t._v("#")]),t._v(" 组合功能  删除多个容器")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[t._v("docker container rm "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("docker container ps "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("aq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"端口映射"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#端口映射"}},[t._v("#")]),t._v(" 端口映射")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("docker container run "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v(" nginx\n")])])]),a("p",[t._v("第一个端口是映射到服务器本机的端口;第二个端口是Docker容器使用的端口。 比如你想把Docker的80端口，映射到服务器的90端口。")]),t._v(" "),a("h3",{attrs:{id:"运行模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行模式"}},[t._v("#")]),t._v(" 运行模式")]),t._v(" "),a("blockquote",[a("p",[t._v("attached模式在前台运行，detached模式在后台运行。")])]),t._v(" "),a("h4",{attrs:{id:"attached模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#attached模式"}},[t._v("#")]),t._v(" attached模式")]),t._v(" "),a("p",[t._v("当你打开"),a("code",[t._v("127.0.0.1")]),t._v("网址的时候，"),a("code",[t._v("PowerShell")]),t._v("上打印出了相关的日志（log），平且每访问一次，都会增加一条日志。也就是说Docker容器的日志会实时的展现到窗口并且占用此端口。这种模式叫做"),a("code",[t._v("attached")]),t._v("模式。")]),t._v(" "),a("p",[t._v("在windows系统下并不是一个完整的attached模式，只是帮我们打印出了Log。现在到Linux服务器上，这时候你按"),a("code",[t._v("Ctrl+C")]),t._v(",就会停止掉"),a("code",[t._v("Docker")]),t._v("服务。而现实中我们工作的环境恰恰是这种Linux环境。")]),t._v(" "),a("p",[t._v("也就是在Linux上你的操作命令，会直接传递个"),a("code",[t._v("Docker容器")]),t._v("。")]),t._v(" "),a("p",[t._v("attached模式更适用于容器和程序的调试阶段。")]),t._v(" "),a("h4",{attrs:{id:"detached模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#detached模式"}},[t._v("#")]),t._v(" detached模式")]),t._v(" "),a("p",[a("code",[t._v("detached模式")]),t._v("的开启方法，就是加一个参数"),a("code",[t._v("-d")]),t._v("或者"),a("code",[t._v("--detach")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[t._v("docker run "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v(" nginx\n")])])]),a("p",[a("code",[t._v("detached模式转换attached模式")])]),t._v(" "),a("p",[t._v("在运行之后，也有需要调试的时候，Docker提供了两个模式间的转换。比如现在要把"),a("code",[t._v("detached")]),t._v("模式的容器，改为"),a("code",[t._v("attched")]),t._v("模式。")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[t._v("docker  attach "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ID")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("or")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("Image")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("Name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n")])])])]),a("h4",{attrs:{id:"查看日志"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看日志"}},[t._v("#")]),t._v(" 查看日志")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[t._v("docker container logs "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ID")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("or")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("Image")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n")])])])]),a("p",[t._v("追踪日志")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[t._v("docker container logs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ID")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("or")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("Image")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("\n")])])])]),a("h3",{attrs:{id:"docker导出、导入镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker导出、导入镜像"}},[t._v("#")]),t._v(" docker导出、导入镜像")]),t._v(" "),a("div",{staticClass:"language-jsx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//导出")]),t._v("\ndocker image save\ndocker image save busybox"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("latest "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("o mybusybox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("image\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//导入")]),t._v("\ndocker image load "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\\mybusybox"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("image\n")])])]),a("h2",{attrs:{id:"三、实际操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、实际操作"}},[t._v("#")]),t._v(" 三、实际操作")]),t._v(" "),a("h3",{attrs:{id:"使用nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用nginx"}},[t._v("#")]),t._v(" 使用nginx")]),t._v(" "),a("p",[t._v("命令：docker run --name nginx -p 80:80 -v /home/docker-nginx/nginx.conf:/etc/nginx/nginx.conf -v /home/docker-nginx/log:/var/log/nginx -v /home/docker-nginx/conf.d/default.conf:/etc/nginx/conf.d/default.conf -d nginx")]),t._v(" "),a("p",[t._v("解释下上面的命令：")]),t._v(" "),a("p",[t._v("--name 给你启动的容器起个名字，以后可以使用这个名字启动或者停止容器")]),t._v(" "),a("p",[t._v("-p 映射端口，将docker宿主机的80端口和容器的80端口进行绑定")]),t._v(" "),a("p",[t._v("-v 挂载文件用的，第一个-v 表示将你本地的nginx.conf覆盖你要起启动的容器的nginx.conf文件，第二个表示将日志文件进行挂载，就是把nginx服务器的日志写到你docker宿主机的/home/docker-nginx/log/下面")]),t._v(" "),a("h3",{attrs:{id:"安装mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装mysql"}},[t._v("#")]),t._v(" 安装mysql")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("docker search mysql")]),t._v(" 查询mysql")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("docker pull mysql")]),t._v("  拉去镜像  ，也可以指定版本镜像"),a("code",[t._v("docker pull mysql:8.0.27")])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("docker images")]),t._v("  查看镜像")])]),t._v(" "),a("li",[a("p",[t._v("在opt目录下创建新文件夹")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("命令：cd /opt/\n命令：mkdir mysql_docker\n命令：cd mysql_docker/\n命令：echo "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$PWD")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("启动mysql容器")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("docker run --name mysqlDemoServer -v $PWD/conf:/etc/mysql/conf.d -v $PWD/logs:/logs -v $PWD/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 -d -i -p 3306:3306 mysql:latest\n")])])]),a("table",[a("thead",[a("tr",[a("th",[t._v("Options")]),t._v(" "),a("th",[t._v("Mean")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("-i")]),t._v(" "),a("td",[t._v("以交互模式运行容器，通常与 -t 同时使用；")])]),t._v(" "),a("tr",[a("td",[t._v("-t")]),t._v(" "),a("td",[t._v("为容器重新分配一个伪输入终端，通常与 -i 同时使用；")])]),t._v(" "),a("tr",[a("td",[t._v("-d")]),t._v(" "),a("td",[t._v("后台运行容器，并返回容器ID；")])])])])]),t._v(" "),a("li",[a("p",[t._v("进入mysql 容器 ，并登入mysql")]),t._v(" "),a("p",[a("code",[t._v("命令：")]),a("strong",[t._v("docker exec -it mysqlserver bash")])]),t._v(" "),a("p",[a("code",[t._v("命令：")]),a("strong",[t._v("mysql -uroot -p")])])]),t._v(" "),a("li",[a("p",[t._v("开启远程访问权限")]),t._v(" "),a("blockquote",[a("p",[t._v("须先到服务器开启3306端口")])]),t._v(" "),a("p",[a("code",[t._v("命令：")]),a("strong",[t._v("use mysql;")])]),t._v(" "),a("p",[a("code",[t._v("命令：")]),a("strong",[t._v("select host,user from user;")])]),t._v(" "),a("p",[a("code",[t._v("命令：")]),a("strong",[t._v("ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY '123456';")])]),t._v(" "),a("p",[a("code",[t._v("命令：")]),a("strong",[t._v("flush privileges;")])])]),t._v(" "),a("li",[a("p",[t._v("查看日志 "),a("strong",[t._v("docker logs -f --tail 10 a4dac74d48f7")])])]),t._v(" "),a("li",[a("p",[t._v("查看进程 "),a("strong",[t._v("docker ps -a")])])]),t._v(" "),a("li",[a("p",[t._v("重启docker "),a("strong",[t._v("systemctl restart docker")])])]),t._v(" "),a("li",[a("p",[t._v("查看docker是否启动成功 "),a("strong",[t._v("ps -ef|grep docker")])])]),t._v(" "),a("li",[a("p",[t._v("关闭docker "),a("strong",[t._v("systemctl stop docker")])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);