<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>åŸºç¡€çŸ¥è¯† | èƒ¡èåœèœ</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.c026dc41.css" as="style"><link rel="preload" href="/assets/js/app.bf1f901b.js" as="script"><link rel="preload" href="/assets/js/2.08c4f067.js" as="script"><link rel="preload" href="/assets/js/10.e039976a.js" as="script"><link rel="prefetch" href="/assets/js/11.10d03bf8.js"><link rel="prefetch" href="/assets/js/12.f7fb251f.js"><link rel="prefetch" href="/assets/js/13.b6c7308e.js"><link rel="prefetch" href="/assets/js/14.7805f380.js"><link rel="prefetch" href="/assets/js/15.4ca3dba2.js"><link rel="prefetch" href="/assets/js/16.558c76d4.js"><link rel="prefetch" href="/assets/js/17.62730914.js"><link rel="prefetch" href="/assets/js/18.738b55c5.js"><link rel="prefetch" href="/assets/js/19.c3349d78.js"><link rel="prefetch" href="/assets/js/20.25250879.js"><link rel="prefetch" href="/assets/js/21.c1a6f713.js"><link rel="prefetch" href="/assets/js/22.d7343b8b.js"><link rel="prefetch" href="/assets/js/3.fedb03bd.js"><link rel="prefetch" href="/assets/js/4.744c798b.js"><link rel="prefetch" href="/assets/js/5.2fbb94be.js"><link rel="prefetch" href="/assets/js/6.a138f623.js"><link rel="prefetch" href="/assets/js/7.88ecf351.js"><link rel="prefetch" href="/assets/js/8.c2d11d42.js"><link rel="prefetch" href="/assets/js/9.7211e51d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c026dc41.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="èƒ¡èåœèœ" class="logo"> <span class="site-name can-hide">èƒ¡èåœèœ</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µğŸˆ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯ğŸ±â€ğŸ‘“" class="dropdown-title"><span class="title">å‰ç«¯ğŸ±â€ğŸ‘“</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯ğŸ±â€ğŸ‘“" class="mobile-dropdown-title"><span class="title">å‰ç«¯ğŸ±â€ğŸ‘“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/å‰ç«¯/vue/" class="nav-link">
  vueç¬”è®°ğŸ¤·â€â™‚ï¸
</a></li><li class="dropdown-item"><!----> <a href="/å‰ç«¯/Javascript/" class="nav-link">
  JavaScriptç¬”è®°ğŸ¤¦â€â™€ï¸
</a></li><li class="dropdown-item"><!----> <a href="/å‰ç«¯/Css/csså¸¸ç”¨å‘½å.html" class="nav-link">
  CssğŸ˜¢
</a></li></ul></div></div><div class="nav-item"><a href="/æ›´å¤š/Canvas.html" class="nav-link">
  æ›´å¤šğŸ±â€ğŸ
</a></div><div class="nav-item"><a href="/æ”¶è—/" class="nav-link">
  æ”¶è—â¤
</a></div> <a href="https://github.com/Guoxm521/documents" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µğŸˆ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯ğŸ±â€ğŸ‘“" class="dropdown-title"><span class="title">å‰ç«¯ğŸ±â€ğŸ‘“</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯ğŸ±â€ğŸ‘“" class="mobile-dropdown-title"><span class="title">å‰ç«¯ğŸ±â€ğŸ‘“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/å‰ç«¯/vue/" class="nav-link">
  vueç¬”è®°ğŸ¤·â€â™‚ï¸
</a></li><li class="dropdown-item"><!----> <a href="/å‰ç«¯/Javascript/" class="nav-link">
  JavaScriptç¬”è®°ğŸ¤¦â€â™€ï¸
</a></li><li class="dropdown-item"><!----> <a href="/å‰ç«¯/Css/csså¸¸ç”¨å‘½å.html" class="nav-link">
  CssğŸ˜¢
</a></li></ul></div></div><div class="nav-item"><a href="/æ›´å¤š/Canvas.html" class="nav-link">
  æ›´å¤šğŸ±â€ğŸ
</a></div><div class="nav-item"><a href="/æ”¶è—/" class="nav-link">
  æ”¶è—â¤
</a></div> <a href="https://github.com/Guoxm521/documents" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/%E5%89%8D%E7%AB%AF/JavaScript/" aria-current="page" class="active sidebar-link">JavaScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E5%89%8D%E7%AB%AF/JavaScript/#åŸºç¡€çŸ¥è¯†" class="sidebar-link">åŸºç¡€çŸ¥è¯†</a></li><li class="sidebar-sub-header"><a href="/%E5%89%8D%E7%AB%AF/JavaScript/#promise" class="sidebar-link">Promise</a></li><li class="sidebar-sub-header"><a href="/%E5%89%8D%E7%AB%AF/JavaScript/#èŠ‚æµä¸é˜²æŠ–" class="sidebar-link">èŠ‚æµä¸é˜²æŠ–</a></li><li class="sidebar-sub-header"><a href="/%E5%89%8D%E7%AB%AF/JavaScript/#æ·±æµ…æ‹·è´" class="sidebar-link">æ·±æµ…æ‹·è´</a></li><li class="sidebar-sub-header"><a href="/%E5%89%8D%E7%AB%AF/JavaScript/#æ•°ç»„æ–¹æ³•" class="sidebar-link">æ•°ç»„æ–¹æ³•</a></li><li class="sidebar-sub-header"><a href="/%E5%89%8D%E7%AB%AF/JavaScript/#applyã€bindã€call" class="sidebar-link">applyã€bindã€call</a></li><li class="sidebar-sub-header"><a href="/%E5%89%8D%E7%AB%AF/JavaScript/#åŸå‹é“¾" class="sidebar-link">åŸå‹é“¾</a></li></ul></li><li><a href="/å‰ç«¯/JavaScript/å¸¸ç”¨Api.html" class="sidebar-link">å¸¸ç”¨Api</a></li><li><a href="/å‰ç«¯/JavaScript/codeSnippet.html" class="sidebar-link">ä»£ç ç‰‡æ®µ</a></li><li><a href="/å‰ç«¯/JavaScript/packageJson.html" class="sidebar-link">packageJsonæ–‡ä»¶</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="header-anchor">#</a> åŸºç¡€çŸ¥è¯†</h2> <ul><li>åŸºæœ¬æ•°æ®ç±»å‹    <code>String</code>ï¼Œ<code>Number</code>,<code>unll</code>,<code>undefind</code>,<code>Boolean</code>,<code>symbol</code></li> <li>å¼•ç”¨æ•°æ®ç±»å‹     <code>object</code>ï¼Œ``array<code>ï¼Œ</code>function`</li></ul> <h3 id="eventloop"><a href="#eventloop" class="header-anchor">#</a> Eventloop</h3> <p><code>JS</code>æ˜¯å•çº¿ç¨‹çš„ï¼Œä¸ºäº†é˜²æ­¢ä¸€ä¸ªå‡½æ•°æ‰§è¡Œæ—¶é—´è¿‡é•¿é˜»å¡åé¢çš„ä»£ç ï¼Œæ‰€ä»¥ä¼šå…ˆå°†åŒæ­¥ä»£ç å‹å…¥æ‰§è¡Œæ ˆä¸­ï¼Œä¾æ¬¡æ‰§è¡Œï¼Œå°†å¼‚æ­¥ä»£ç æ¨å…¥å¼‚æ­¥é˜Ÿåˆ—ï¼Œå¼‚æ­¥é˜Ÿåˆ—åˆåˆ†ä¸ºå®ä»»åŠ¡é˜Ÿåˆ—å’Œå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå› ä¸ºå®ä»»åŠ¡é˜Ÿåˆ—çš„æ‰§è¡Œæ—¶é—´è¾ƒé•¿ï¼Œæ‰€ä»¥å¾®ä»»åŠ¡é˜Ÿåˆ—è¦ä¼˜å…ˆäºå®ä»»åŠ¡é˜Ÿåˆ—ã€‚å¾®ä»»åŠ¡é˜Ÿåˆ—çš„ä»£è¡¨å°±æ˜¯ï¼Œ<code>Promise.then</code>ï¼Œ<code>MutationObserver</code>ï¼Œå®ä»»åŠ¡çš„è¯å°±æ˜¯<code>setImmediate setTimeout setInterval</code></p> <p>å‡å¦‚ <code>JavaScript</code>æœ‰Aå’ŒBä¸¤ä¸ªçº¿ç¨‹ï¼ŒAçº¿ç¨‹åœ¨DOMèŠ‚ç‚¹ä¸Šæ·»åŠ äº†å†…å®¹ï¼ŒBçº¿ç¨‹åˆ é™¤äº†è¿™ä¸ªèŠ‚ç‚¹ï¼Œ æ‰€ä»¥ä¸ºäº†é¿å…å¤æ‚æ€§ï¼Œæ‰€ä»¥è®¾è®¡æˆäº†å•çº¿ç¨‹ã€‚</p> <h2 id="promise"><a href="#promise" class="header-anchor">#</a> Promise</h2> <h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="header-anchor">#</a> ç®€ä»‹</h3> <p>Promise å¯¹è±¡çš„æ„é€ å™¨ï¼ˆconstructorï¼‰è¯­æ³•å¦‚ä¸‹ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// executorï¼ˆç”Ÿäº§è€…ä»£ç ï¼Œâ€œæ­Œæ‰‹â€ï¼‰</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ä¼ é€’ç»™ <code>new Promise</code> çš„å‡½æ•°è¢«ç§°ä¸º <code>executor</code>ã€‚å½“ <code>new Promise</code> è¢«åˆ›å»ºï¼Œexecutor ä¼šè‡ªåŠ¨è¿è¡Œã€‚å®ƒåŒ…å«æœ€ç»ˆåº”äº§å‡ºç»“æœçš„ç”Ÿäº§è€…ä»£ç ã€‚</p> <p>å®ƒçš„å‚æ•° <code>resolve</code> å’Œ <code>reject</code> æ˜¯ç”± JavaScript è‡ªèº«æä¾›çš„å›è°ƒã€‚æˆ‘ä»¬çš„ä»£ç ä»…åœ¨ executor çš„å†…éƒ¨ã€‚</p> <p>å½“ executor è·å¾—äº†ç»“æœï¼Œæ— è®ºæ˜¯æ—©è¿˜æ˜¯æ™šéƒ½æ²¡å…³ç³»ï¼Œå®ƒåº”è¯¥è°ƒç”¨ä»¥ä¸‹å›è°ƒä¹‹ä¸€ï¼š</p> <ul><li><code>resolve(value)</code> â€” å¦‚æœä»»åŠ¡æˆåŠŸå®Œæˆå¹¶å¸¦æœ‰ç»“æœ <code>value</code>ã€‚</li> <li><code>reject(error)</code> â€” å¦‚æœå‡ºç°äº† errorï¼Œ<code>error</code> å³ä¸º error å¯¹è±¡ã€‚</li></ul> <p>ç”± <code>new Promise</code> æ„é€ å™¨è¿”å›çš„ <code>promise</code> å¯¹è±¡å…·æœ‰ä»¥ä¸‹å†…éƒ¨å±æ€§ï¼š</p> <ul><li><code>state</code> <ul><li>pending: åˆå§‹çŠ¶æ€ï¼Œä¸æ˜¯æˆåŠŸæˆ–å¤±è´¥çŠ¶æ€ã€‚</li> <li>fulfilled: æ„å‘³ç€æ“ä½œæˆåŠŸå®Œæˆã€‚</li> <li>rejected: æ„å‘³ç€æ“ä½œå¤±è´¥ã€‚</li></ul></li> <li><code>result</code></li></ul> <p><code>promise</code>å¯¹è±¡åˆå§‹çŠ¶æ€ä¸º<code>pending</code>,ç„¶ååœ¨ <code>resolve</code> è¢«è°ƒç”¨æ—¶å˜ä¸º <code>&quot;fulfilled&quot;</code>ï¼Œæˆ–è€…åœ¨ <code>reject</code> è¢«è°ƒç”¨æ—¶å˜ä¸º <code>&quot;rejected&quot;</code>ã€‚</p> <h3 id="then-catch-finally"><a href="#then-catch-finally" class="header-anchor">#</a> thenï¼Œcatchï¼Œfinally</h3> <p><code>.then</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å°†åœ¨ promise resolved åè¿è¡Œå¹¶æ¥æ”¶ç»“æœã€‚</p> <p><code>.then</code> çš„ç¬¬äºŒä¸ªå‚æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å°†åœ¨ promise rejected åè¿è¡Œå¹¶æ¥æ”¶ errorã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* handle a successful result */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* handle an error */</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>catch</code>å¯¹ <code>error</code> æ„Ÿå…´è¶£ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>null</code> ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼š<code>.then(null, errorHandlingFunction)</code>ã€‚æˆ–è€…æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>.catch(errorHandlingFunction)</code>ï¼Œå…¶å®æ˜¯ä¸€æ ·çš„ï¼š</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Whoops!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// .catch(f) ä¸ promise.then(null, f) ä¸€æ ·</span>
promise<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span>alert<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 ç§’åæ˜¾ç¤º &quot;Error: Whoops!&quot;</span>
</code></pre></div><p><code>.catch(f)</code> è°ƒç”¨æ˜¯ <code>.then(null, f)</code> çš„å®Œå…¨çš„æ¨¡æ‹Ÿï¼Œå®ƒåªæ˜¯ä¸€ä¸ªç®€å†™å½¢å¼ã€‚</p> <p>åœ¨promise ä¸­ä¹Ÿæœ‰ <code>finally</code>ï¼Œ<code>.finally(f)</code> è°ƒç”¨ä¸ <code>.then(f, f)</code> ç±»ä¼¼ï¼Œåœ¨æŸç§æ„ä¹‰ä¸Šï¼Œ<code>f</code> æ€»æ˜¯åœ¨ promise è¢« settled æ—¶è¿è¡Œï¼šå³ promise è¢« resolve æˆ– rejectã€‚</p> <h3 id="promise-api"><a href="#promise-api" class="header-anchor">#</a> Promise API</h3> <p>åœ¨<code>Promise</code>ç±»å½“ä¸­ï¼Œé‡Œé¢æœ‰äº”ä¸ªé™æ€æ–¹æ³•</p> <ul><li><p><code>Promise.all</code></p> <p><code>Promise.all</code>æ¥å—ä¸€ä¸ª<code>promise</code>æ•°ç»„ä½œä¸ºå‚æ•°å¹¶è¿”å›ä¸€ä¸ªæ–°çš„promiseï¼Œå½“æ‰€æœ‰ç»™å®šçš„ promise éƒ½è¢« settled æ—¶ï¼Œæ–°çš„ promise æ‰ä¼š resolveï¼Œå¹¶ä¸”å…¶ç»“æœæ•°ç»„å°†æˆä¸ºæ–°çš„ promise çš„ç»“æœã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 1</span>
  <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 2</span>
  <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 3</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>alert<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1,2,3 å½“ä¸Šé¢è¿™äº› promise å‡†å¤‡å¥½æ—¶ï¼šæ¯ä¸ª promise éƒ½è´¡çŒ®äº†æ•°ç»„ä¸­çš„ä¸€ä¸ªå…ƒç´ </span>
</code></pre></div><p>ç»“æœæ•°ç»„ä¸­å…ƒç´ çš„é¡ºåºä¸å…¶åœ¨æº promise ä¸­çš„é¡ºåºç›¸åŒã€‚å³ä½¿ç¬¬ä¸€ä¸ª promise èŠ±è´¹äº†æœ€é•¿çš„æ—¶é—´æ‰ resolveï¼Œä½†å®ƒä»æ˜¯ç»“æœæ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªã€‚</p> <p><strong>å¦‚æœä»»æ„ä¸€ä¸ª promise è¢« rejectï¼Œç”± <code>Promise.all</code> è¿”å›çš„ promise å°±ä¼šç«‹å³ rejectï¼Œå¹¶ä¸”å¸¦æœ‰çš„å°±æ˜¯è¿™ä¸ª errorã€‚</strong></p></li> <li><p><code>Promise.allSellted</code></p> <p><code>Promise.allSettled</code> ç­‰å¾…æ‰€æœ‰çš„ promise éƒ½è¢« settleï¼Œæ— è®ºç»“æœå¦‚ä½•ã€‚ç»“æœæ•°ç»„å…·æœ‰ï¼š</p> <ul><li><code>{status:&quot;fulfilled&quot;, value:result}</code> å¯¹äºæˆåŠŸçš„å“åº”ï¼Œ</li> <li><code>{status:&quot;rejected&quot;, reason:error}</code> å¯¹äº errorã€‚</li></ul></li> <li><p><code>Promise.race</code></p> <p>ä¸ <code>Promise.all</code> ç±»ä¼¼ï¼Œä½†åªç­‰å¾…ç¬¬ä¸€ä¸ª settled çš„ promise å¹¶è·å–å…¶ç»“æœï¼ˆæˆ– errorï¼‰ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code>Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Whoops!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>alert<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre></div></li> <li><p><code>promise.reslove/reject</code></p> <p><code>Promise.resolve(value)</code> â€”â€” ä½¿ç”¨ç»™å®š value åˆ›å»ºä¸€ä¸ª resolved çš„ promiseã€‚</p> <p><code>Promise.reject(error)</code> â€”â€” ä½¿ç”¨ç»™å®š error åˆ›å»ºä¸€ä¸ª rejected çš„ promiseã€‚</p></li></ul> <h2 id="èŠ‚æµä¸é˜²æŠ–"><a href="#èŠ‚æµä¸é˜²æŠ–" class="header-anchor">#</a> èŠ‚æµä¸é˜²æŠ–</h2> <ul><li><strong>å‡½æ•°é˜²æŠ–</strong> ï¼šæŒ‡çš„æ˜¯äº‹ä»¶è¢«è§¦å‘ n ç§’åå†æ‰§è¡Œå›è°ƒï¼Œå¦‚æœåœ¨è¿™ n ç§’å†…äº‹ä»¶åˆè¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶ã€‚è¿™å¯ä»¥ä½¿ç”¨åœ¨ä¸€äº›ç‚¹å‡»è¯·æ±‚çš„äº‹ä»¶ä¸Šï¼Œé¿å…å› ä¸ºç”¨æˆ·çš„å¤šæ¬¡ç‚¹å‡»å‘åç«¯å‘é€å¤šæ¬¡è¯·æ±‚ã€‚</li> <li><strong>å‡½æ•°èŠ‚æµ</strong> ï¼šæ˜¯æŒ‡è§„å®šä¸€ä¸ªå•ä½æ—¶é—´ï¼Œåœ¨è¿™ä¸ªå•ä½æ—¶é—´å†…ï¼Œåªèƒ½æœ‰ä¸€æ¬¡è§¦å‘äº‹ä»¶çš„å›è°ƒå‡½æ•°æ‰§è¡Œï¼Œå¦‚æœåœ¨åŒä¸€ä¸ªå•ä½æ—¶é—´å†…æŸäº‹ä»¶è¢«è§¦å‘å¤šæ¬¡ï¼Œåªæœ‰ä¸€æ¬¡èƒ½ç”Ÿæ•ˆã€‚èŠ‚æµå¯ä»¥ä½¿ç”¨åœ¨ scroll å‡½æ•°çš„äº‹ä»¶ç›‘å¬ä¸Šï¼Œé€šè¿‡äº‹ä»¶èŠ‚æµæ¥é™ä½äº‹ä»¶è°ƒç”¨çš„é¢‘ç‡ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å‡½æ•°é˜²æŠ–  å»¶è¿Ÿæ‰§è¡Œ</span>
<span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> time <span class="token operator">=</span> <span class="token number">3000</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">let</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
			args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
			timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç«‹å³æ‰§è¡Œ</span>
<span class="token keyword">function</span> <span class="token function">debounce1</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> time <span class="token operator">=</span> <span class="token number">3000</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">let</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
			args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">let</span> callNow <span class="token operator">=</span> <span class="token operator">!</span>timer<span class="token punctuation">;</span>
		timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>callNow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;æˆ‘æ˜¯æ‰§è¡Œ312312çš„&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">debounce</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">&quot;å¼ ä¸‰&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å‡½æ•°èŠ‚æµ</span>
<span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> delay <span class="token operator">=</span> <span class="token number">300</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> preTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">let</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
			args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
		nowTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>nowTime <span class="token operator">-</span> preTime <span class="token operator">&gt;=</span> delay<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			preTime <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="æ·±æµ…æ‹·è´"><a href="#æ·±æµ…æ‹·è´" class="header-anchor">#</a> æ·±æµ…æ‹·è´</h2> <blockquote><p>è‡ªå·±åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œæ¥æ¥å—ä½ è¦é‡æ–°å¤åˆ¶æˆ–å¼•ç”¨çš„å¯¹è±¡å€¼ã€‚å¦‚æœå¯¹è±¡å±æ€§æ˜¯åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œå¤åˆ¶çš„å°±æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ç»™æ–°å¯¹è±¡ï¼›ä½†å¦‚æœå±æ€§æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œå¤åˆ¶çš„å°±æ˜¯å†…å­˜ä¸­çš„åœ°å€ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªå¯¹è±¡æ”¹å˜äº†è¿™ä¸ªå†…å­˜ä¸­çš„åœ°å€ï¼Œè‚¯å®šä¼šå½±å“åˆ°å¦ä¸€ä¸ªå¯¹è±¡</p></blockquote> <h3 id="_1-object-assign"><a href="#_1-object-assign" class="header-anchor">#</a> 1.<code>Object.assign()</code></h3> <p><code>Object.assign()</code> æ–¹æ³•ç”¨äºå°†æ‰€æœ‰å¯æšä¸¾å±æ€§çš„å€¼ä»ä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡åˆ†é…åˆ°ç›®æ ‡å¯¹è±¡ã€‚å®ƒå°†è¿”å›ç›®æ ‡å¯¹è±¡ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> source <span class="token operator">=</span> <span class="token punctuation">{</span> b<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> returnedTarget <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// expected output: Object { a: 1, b: 4, c: 5 }</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>returnedTarget<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// expected output: Object { a: 1, b: 4, c: 5 }</span>
</code></pre></div><p><strong>æ³¨æ„ï¼š</strong></p> <ul><li>å¦‚æœç›®æ ‡å¯¹è±¡ä¸­çš„å±æ€§å…·æœ‰ç›¸åŒçš„é”®ï¼Œåˆ™å±æ€§å°†è¢«æºå¯¹è±¡ä¸­çš„å±æ€§è¦†ç›–ã€‚åé¢çš„æºå¯¹è±¡çš„å±æ€§å°†ç±»ä¼¼åœ°è¦†ç›–å‰é¢çš„æºå¯¹è±¡çš„å±æ€§ã€‚</li> <li>å®ƒä¸ä¼šæ‹·è´å¯¹è±¡çš„ç»§æ‰¿å±æ€§ã€‚</li> <li>å®ƒä¸ä¼šæ‹·è´å¯¹è±¡çš„ä¸å¯æšä¸¾çš„å±æ€§ã€‚</li> <li>å¯ä»¥æ‹·è´ <code>Symbol</code> ç±»å‹çš„å±æ€§ã€‚</li></ul> <h3 id="_2-æ‹“å±•ç¬¦å·"><a href="#_2-æ‹“å±•ç¬¦å·" class="header-anchor">#</a> 2.æ‹“å±•ç¬¦å·</h3> <blockquote><p>æ‰©å±•è¿ç®—ç¬¦ å’Œ <code>object.assign</code> æœ‰åŒæ ·çš„ç¼ºé™·ï¼Œä¹Ÿå°±æ˜¯<code>å®ç°çš„æµ…æ‹·è´çš„åŠŸèƒ½å·®ä¸å¤š</code>ï¼Œä½†æ˜¯å¦‚æœå±æ€§éƒ½æ˜¯<code>åŸºæœ¬ç±»å‹çš„å€¼ï¼Œä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦è¿›è¡Œæµ…æ‹·è´ä¼šæ›´åŠ æ–¹ä¾¿</code></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> cloneObj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>obj <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/* å¯¹è±¡çš„æ‹·è´ */</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token punctuation">{</span> c<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>obj <span class="token punctuation">}</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//{a:2,b:{c:1}} console.log(obj2); //{a:1,b:{c:1}}</span>
obj<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//{a:2,b:{c:2}} console.log(obj2); //{a:1,b:{c:2}}</span>
<span class="token comment">/* æ•°ç»„çš„æ‹·è´ */</span>
<span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//è·Ÿarr.slice()æ˜¯ä¸€æ ·çš„æ•ˆæœ</span>
newArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[ 1, 2, 3 ]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[ 2, 2, 3 ]</span>
</code></pre></div><h3 id="_3-concat-æ‹·è´æ•°ç»„"><a href="#_3-concat-æ‹·è´æ•°ç»„" class="header-anchor">#</a> 3.concat æ‹·è´æ•°ç»„</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
newArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [ 1, 2, 3 ]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [ 1, 100, 3 ]</span>
</code></pre></div><h3 id="_4-json-stringify"><a href="#_4-json-stringify" class="header-anchor">#</a> 4.JSON.stringify</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
    age<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    jobs<span class="token operator">:</span> <span class="token punctuation">{</span>
        first<span class="token operator">:</span> <span class="token string">'FE'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>jobs<span class="token punctuation">.</span>first <span class="token operator">=</span> <span class="token string">'native'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>jobs<span class="token punctuation">.</span>first<span class="token punctuation">)</span> <span class="token comment">// FE</span>
</code></pre></div><p><code>JSON.stringify()</code>å°†å€¼è½¬æ¢ä¸ºç›¸åº”çš„JSONæ ¼å¼ï¼š</p> <ul><li>éæ•°ç»„å¯¹è±¡çš„å±æ€§ä¸èƒ½ä¿è¯ä»¥ç‰¹å®šçš„é¡ºåºå‡ºç°åœ¨åºåˆ—åŒ–åçš„å­—ç¬¦ä¸²ä¸­ã€‚</li> <li>å¸ƒå°”å€¼ã€æ•°å­—ã€å­—ç¬¦ä¸²çš„åŒ…è£…å¯¹è±¡åœ¨åºåˆ—åŒ–è¿‡ç¨‹ä¸­ä¼šè‡ªåŠ¨è½¬æ¢æˆå¯¹åº”çš„åŸå§‹å€¼ã€‚</li> <li><code>undefined</code>ã€ä»»æ„çš„å‡½æ•°ä»¥åŠ symbol å€¼ï¼Œåœ¨åºåˆ—åŒ–è¿‡ç¨‹ä¸­ä¼šè¢«å¿½ç•¥ï¼ˆå‡ºç°åœ¨éæ•°ç»„å¯¹è±¡çš„å±æ€§å€¼ä¸­æ—¶ï¼‰æˆ–è€…è¢«è½¬æ¢æˆ <code>null</code>ï¼ˆå‡ºç°åœ¨æ•°ç»„ä¸­æ—¶ï¼‰ã€‚å‡½æ•°ã€undefined è¢«å•ç‹¬è½¬æ¢æ—¶ï¼Œä¼šè¿”å› undefinedï¼Œå¦‚<code>JSON.stringify(function(){})</code> or <code>JSON.stringify(undefined)</code>.</li> <li>å¯¹åŒ…å«å¾ªç¯å¼•ç”¨çš„å¯¹è±¡ï¼ˆå¯¹è±¡ä¹‹é—´ç›¸äº’å¼•ç”¨ï¼Œå½¢æˆæ— é™å¾ªç¯ï¼‰æ‰§è¡Œæ­¤æ–¹æ³•ï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚</li> <li>æ‰€æœ‰ä»¥ symbol ä¸ºå±æ€§é”®çš„å±æ€§éƒ½ä¼šè¢«å®Œå…¨å¿½ç•¥æ‰</li> <li>Date æ—¥æœŸè°ƒç”¨äº† toJSON() å°†å…¶è½¬æ¢ä¸ºäº† string å­—ç¬¦ä¸²ï¼ˆåŒDate.toISOString()ï¼‰ï¼Œå› æ­¤ä¼šè¢«å½“åšå­—ç¬¦ä¸²å¤„ç†ã€‚
<ul><li>NaN å’Œ Infinity æ ¼å¼çš„æ•°å€¼åŠ null éƒ½ä¼šè¢«å½“åš nullã€‚</li></ul></li> <li>å…¶ä»–ç±»å‹çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬ Map/Set/WeakMap/WeakSetï¼Œä»…ä¼šåºåˆ—åŒ–å¯æšä¸¾çš„å±æ€§ã€‚</li></ul> <h3 id="_5-æ‰‹å†™æ‹·è´"><a href="#_5-æ‰‹å†™æ‹·è´" class="header-anchor">#</a> 5.æ‰‹å†™æ‹·è´</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//ç®€å•ç‰ˆ</span>
<span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> cloneObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> object<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> object<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			cloneObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>object<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			cloneObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> cloneObj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//å¤æ‚ç‰ˆ</span>
<span class="token keyword">const</span> <span class="token function-variable function">isComplexDataType</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
	<span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> obj <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">deepClone</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>obj<span class="token punctuation">,</span> hash <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeakMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Date<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ—¥æœŸå¯¹è±¡ç›´æ¥è¿”å›ä¸€ä¸ªæ–°çš„æ—¥æœŸå¯¹è±¡</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>constructor <span class="token operator">===</span> RegExp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ­£åˆ™å¯¹è±¡ç›´æ¥è¿”å›ä¸€ä¸ªæ–°çš„æ­£åˆ™å¯¹è±¡</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//å¦‚æœå¾ªç¯å¼•ç”¨äº†å°±ç”¨ weakMap æ¥è§£å†³</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>hash<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> hash<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">let</span> allDesc <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptors</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//éå†ä¼ å…¥å‚æ•°æ‰€æœ‰é”®çš„ç‰¹æ€§</span>
	<span class="token keyword">let</span> cloneObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">,</span> allDesc<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//ç»§æ‰¿åŸå‹é“¾</span>
	hash<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> cloneObj<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">of</span> Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		cloneObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span>
			<span class="token function">isComplexDataType</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">&quot;function&quot;</span>
				<span class="token operator">?</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> hash<span class="token punctuation">)</span>
				<span class="token operator">:</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> cloneObj<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>è¡¥å……</strong></p> <ul><li><p><code>Object.getOwnPropertyDescriptors()</code> æ–¹æ³•ç”¨æ¥è·å–ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰è‡ªèº«å±æ€§çš„æè¿°ç¬¦ã€‚</p></li> <li><p>é™æ€æ–¹æ³• <code>Reflect.ownKeys()</code>è¿”å›ä¸€ä¸ªç”±ç›®æ ‡å¯¹è±¡è‡ªèº«çš„å±æ€§é”®ç»„æˆçš„æ•°ç»„ã€‚</p></li></ul> <p><strong>æ–‡ç« </strong> <a href="https://zh.javascript.info/weakmap-weakset" target="_blank" rel="noopener noreferrer">WeakMap and WeakSetï¼ˆå¼±æ˜ å°„å’Œå¼±é›†åˆï¼‰<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="æ•°ç»„æ–¹æ³•"><a href="#æ•°ç»„æ–¹æ³•" class="header-anchor">#</a> æ•°ç»„æ–¹æ³•</h2> <h3 id="åŸºæœ¬æ–¹æ³•"><a href="#åŸºæœ¬æ–¹æ³•" class="header-anchor">#</a> åŸºæœ¬æ–¹æ³•</h3> <ul><li><p>æ·»åŠ /åˆ é™¤å…ƒç´ ï¼š</p> <ul><li><code>push(...items)</code> â€”â€” å‘å°¾ç«¯æ·»åŠ å…ƒç´ ï¼Œ</li> <li><code>pop()</code> â€”â€” ä»å°¾ç«¯æå–ä¸€ä¸ªå…ƒç´ ï¼Œ</li> <li><code>shift()</code> â€”â€” ä»é¦–ç«¯æå–ä¸€ä¸ªå…ƒç´ ï¼Œ</li> <li><code>unshift(...items)</code> â€”â€” å‘é¦–ç«¯æ·»åŠ å…ƒç´ ï¼Œ</li> <li><code>splice(pos, deleteCount, ...items)</code> â€”â€” ä» <code>pos</code> å¼€å§‹åˆ é™¤ <code>deleteCount</code> ä¸ªå…ƒç´ ï¼Œå¹¶æ’å…¥ <code>items</code>ã€‚</li> <li><code>slice(start, end)</code> â€”â€” åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå°†ä»ç´¢å¼• <code>start</code> åˆ°ç´¢å¼• <code>end</code>ï¼ˆä½†ä¸åŒ…æ‹¬ <code>end</code>ï¼‰çš„å…ƒç´ å¤åˆ¶è¿›å»ã€‚</li> <li><code>concat(...items)</code> â€”â€” è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼šå¤åˆ¶å½“å‰æ•°ç»„çš„æ‰€æœ‰å…ƒç´ ï¼Œå¹¶å‘å…¶ä¸­æ·»åŠ  <code>items</code>ã€‚å¦‚æœ <code>items</code> ä¸­çš„ä»»æ„ä¸€é¡¹æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆå°±å–å…¶å…ƒç´ ã€‚</li></ul></li> <li><p>æœç´¢å…ƒç´ ï¼š</p> <ul><li><code>indexOf/lastIndexOf(item, pos)</code> â€”â€” ä»ç´¢å¼• <code>pos</code> å¼€å§‹æœç´¢ <code>item</code>ï¼Œæœç´¢åˆ°åˆ™è¿”å›è¯¥é¡¹çš„ç´¢å¼•ï¼Œå¦åˆ™è¿”å› <code>-1</code>ã€‚</li> <li><code>includes(value)</code> â€”â€” å¦‚æœæ•°ç»„æœ‰ <code>value</code>ï¼Œåˆ™è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚</li> <li><code>find/filter(func)</code> â€”â€” é€šè¿‡ <code>func</code> è¿‡æ»¤å…ƒç´ ï¼Œè¿”å›ä½¿ <code>func</code> è¿”å› <code>true</code> çš„ç¬¬ä¸€ä¸ªå€¼/æ‰€æœ‰å€¼ã€‚</li> <li><code>findIndex</code> å’Œ <code>find</code> ç±»ä¼¼ï¼Œä½†è¿”å›ç´¢å¼•è€Œä¸æ˜¯å€¼ã€‚</li></ul></li> <li><p>éå†å…ƒç´ ï¼š</p> <ul><li><code>forEach(func)</code> â€”â€” å¯¹æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ <code>func</code>ï¼Œä¸è¿”å›ä»»ä½•å†…å®¹ã€‚</li></ul></li> <li><p>è½¬æ¢æ•°ç»„ï¼š</p> <ul><li><code>map(func)</code> â€”â€” æ ¹æ®å¯¹æ¯ä¸ªå…ƒç´ è°ƒç”¨ <code>func</code> çš„ç»“æœåˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ã€‚</li> <li><code>sort(func)</code> â€”â€” å¯¹æ•°ç»„è¿›è¡ŒåŸä½ï¼ˆin-placeï¼‰æ’åºï¼Œç„¶åè¿”å›å®ƒã€‚</li> <li><code>reverse()</code> â€”â€” åŸä½ï¼ˆin-placeï¼‰åè½¬æ•°ç»„ï¼Œç„¶åè¿”å›å®ƒã€‚</li> <li><code>split/join</code> â€”â€” å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°ç»„å¹¶è¿”å›ã€‚</li> <li><code>reduce/reduceRight(func, initial)</code> â€”â€” é€šè¿‡å¯¹æ¯ä¸ªå…ƒç´ è°ƒç”¨ <code>func</code> è®¡ç®—æ•°ç»„ä¸Šçš„å•ä¸ªå€¼ï¼Œå¹¶åœ¨è°ƒç”¨ä¹‹é—´ä¼ é€’ä¸­é—´ç»“æœã€‚</li></ul></li> <li><p>å…¶ä»–ï¼š</p> <ul><li><p><code>Array.isArray(arr)</code> æ£€æŸ¥ <code>arr</code> æ˜¯å¦æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚</p></li> <li><p><code>some\every</code> æ£€æŸ¥æ•°ç»„ã€‚</p></li> <li><p><code>flat\flatMap</code>ä»å¤šç»´æ•°ç»„åˆ›å»ºä¸€ä¸ªæ–°çš„æ‰å¹³æ•°ç»„ã€‚</p></li></ul></li> <li><p>ä¸æ”¹å˜è‡ªèº«çš„æ–¹æ³•</p> <p><code>concat</code>ã€<code>join</code>ã€<code>slice</code>ã€<code>toString</code>ã€<code>toLocaleString</code>ã€<code>indexOf</code>ã€<code>lastIndexOf</code>ã€<code>includes</code></p></li> <li><p>ä¸ä¼šæ”¹å˜è‡ªèº«çš„æ•°ç»„éå†æ–¹æ³•</p> <p><code>forEach</code>ã€<code>every</code>ã€<code>some</code>ã€<code>filter</code>ã€<code>map</code>ã€<code>reduce</code>ã€<code>reduceRight</code>ã€<code>entries</code>ã€<code>find</code>ã€<code>findIndex</code>ã€<code>keys</code>ã€<code>values</code></p></li></ul> <p><strong>æ€»ç»“ï¼š</strong></p> <ul><li>æ‰€æœ‰æ’å…¥å…ƒç´ çš„æ–¹æ³•ï¼Œæ¯”å¦‚ <code>pushã€unshift</code> ä¸€å¾‹è¿”å›æ•°ç»„æ–°çš„é•¿åº¦ï¼›</li> <li>æ‰€æœ‰åˆ é™¤å…ƒç´ çš„æ–¹æ³•ï¼Œæ¯”å¦‚ <code>popã€shiftã€splice</code> ä¸€å¾‹è¿”å›åˆ é™¤çš„å…ƒç´ ï¼Œæˆ–è€…è¿”å›åˆ é™¤çš„å¤šä¸ªå…ƒç´ ç»„æˆçš„æ•°ç»„ï¼›</li> <li>éƒ¨åˆ†éå†æ–¹æ³•ï¼Œæ¯”å¦‚ <code>forEachã€everyã€someã€filterã€mapã€findã€findIndex</code>ï¼Œå®ƒä»¬éƒ½åŒ…å« <code>function(value,index,array){}</code> å’Œ <code>thisArg</code> è¿™æ ·ä¸¤ä¸ªå½¢å‚ã€‚</li></ul> <h3 id="æ•°ç»„æ‰å¹³åŒ–"><a href="#æ•°ç»„æ‰å¹³åŒ–" class="header-anchor">#</a> æ•°ç»„æ‰å¹³åŒ–</h3> <ul><li><p>æ•°ç»„è‡ªå¸¦æ–¹æ³•<code>Array.prototype.flat()</code></p> <p><code>flat()</code> æ–¹æ³•ä¼šæŒ‰ç…§ä¸€ä¸ªå¯æŒ‡å®šçš„æ·±åº¦é€’å½’éå†æ•°ç»„ï¼Œå¹¶å°†æ‰€æœ‰å…ƒç´ ä¸éå†åˆ°çš„å­æ•°ç»„ä¸­çš„å…ƒç´ åˆå¹¶ä¸ºä¸€ä¸ªæ–°æ•°ç»„è¿”å›ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> newArray <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">[</span>depth<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><blockquote><p>å½“<code>depth</code>å¤§äºæ•°ç»„è‡ªèº«æ·±åº¦æ—¶ï¼Œåˆ™ä¼šè‡ªåŠ¨å±•å¼€ä¸ºä¸€ç»´æ•°ç»„ï¼Œ</p> <p>æ‰€ä»¥ä½¿ç”¨<code>Infinity</code>ï¼Œå¯å±•å¼€ä»»æ„æ·±åº¦çš„åµŒå¥—æ•°ç»„</p></blockquote></li> <li><p>æ¡ˆä¾‹</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//[1,2,3,4]</span>
<span class="token keyword">const</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[1,2,3,4]</span>
</code></pre></div></li> <li><p>æ‰‹å†™æ›¿ä»£æ–¹æ¡ˆ</p> <ul><li><strong><code>reduce</code>+<code>contact</code></strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> acc<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> arr4 <span class="token operator">=</span> arr1<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> acc<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[ 0, 1, 2, 3, 4 ]</span>
<span class="token keyword">let</span> arr5 <span class="token operator">=</span> arr2<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> acc<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[ 0, 1, 2, [ [ 3, 4 ] ] ]</span>
</code></pre></div><p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ç›´æ¥ä½¿ç”¨çš„è¯ï¼Œåªèƒ½å®ç°äºŒçº§æ•°ç»„æ‰å¹³åŒ–ï¼Œå½“æ•°ç»„åµŒå¥—å±‚æ•°è¿‡å¤šï¼Œå°±æ— æ³•å¾—åˆ°æƒ³è¦çš„ç»“æœ</p> <ul><li><strong><code>reduce</code>+<code>contact</code>+é€’å½’</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">//å†™æ³•ä¸€</span>
<span class="token keyword">function</span> <span class="token function">flatDeep</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> d <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> d <span class="token operator">&gt;</span> <span class="token number">0</span>
		<span class="token operator">?</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> acc<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token function">flatDeep</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span>d <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> acc<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
		  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token operator">:</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">//å†™æ³•äºŒ</span>
<span class="token keyword">function</span> <span class="token function">flatDeep</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> d <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> d <span class="token operator">&gt;</span> <span class="token number">0</span>
		<span class="token operator">?</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>
				<span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
					acc<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">flatDeep</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> d <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> val<span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token punctuation">[</span><span class="token punctuation">]</span>
		  <span class="token punctuation">)</span>
		<span class="token operator">:</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">flatDeep</span><span class="token punctuation">(</span>arr2<span class="token punctuation">,</span> <span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[ 0, 1, 2, 3, 4 ]</span>
</code></pre></div><ul><li><strong><code>forEach+push+é€’å½’</code></strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">flatDeep2</span><span class="token punctuation">(</span><span class="token parameter">arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> d <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">flat</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> d</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> d <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">flat</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> d <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">flatDeep2</span><span class="token punctuation">(</span>arr2<span class="token punctuation">,</span> <span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[ 0, 1, 2, 3, 4 ]</span>
</code></pre></div><ul><li><strong><code>Generator</code>å‡½æ•°å®ç°</strong></li></ul> <blockquote><p>å¸¸è§„å‡½æ•°åªä¼šè¿”å›ä¸€ä¸ªå•ä¸€å€¼ï¼ˆæˆ–è€…ä¸è¿”å›ä»»ä½•å€¼ï¼‰ã€‚</p> <p>è€Œ <code>Generator</code>å¯ä»¥æŒ‰éœ€ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°è¿”å›ï¼ˆ<code>yield</code>ï¼‰å¤šä¸ªå€¼ã€‚å®ƒä»¬å¯ä¸ <a href="https://zh.javascript.info/iterable" target="_blank" rel="noopener noreferrer">iterable<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å®Œç¾é…åˆä½¿ç”¨ï¼Œä»è€Œå¯ä»¥è½»æ¾åœ°åˆ›å»ºæ•°æ®æµã€‚</p> <p>ä¸€ä¸ª generator çš„ä¸»è¦æ–¹æ³•å°±æ˜¯ <code>next()</code>ã€‚å½“<code>next()</code>è¢«è°ƒç”¨æ—¶ï¼Œå®ƒä¼šæ¢å¤ä¸Šå›¾æ‰€ç¤ºçš„è¿è¡Œï¼Œæ‰§è¡Œç›´åˆ°æœ€è¿‘çš„ <code>yield è¯­å¥</code>ã€‚ç„¶åå‡½æ•°æ‰§è¡Œæš‚åœï¼Œå¹¶å°†äº§å‡ºçš„ï¼ˆyieldedï¼‰å€¼è¿”å›åˆ°å¤–éƒ¨ä»£ç ã€‚</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">flatGenerator</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> value <span class="token keyword">of</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">yield</span><span class="token operator">*</span> <span class="token function">flatGenerator</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> 
            <span class="token comment">// yield* è¿™ä¸ªç‰¹æ®Šçš„è¯­æ³•æ¥å°†ä¸€ä¸ª generator â€œåµŒå…¥â€ï¼ˆç»„åˆï¼‰åˆ°å¦ä¸€ä¸ª generator </span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token keyword">yield</span> value<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> newarr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token function">flatGenerator</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newarr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//[ 0, 1, 2, 3, 4 ]</span>
</code></pre></div></li></ul> <h2 id="applyã€bindã€call"><a href="#applyã€bindã€call" class="header-anchor">#</a> applyã€bindã€call</h2> <table><thead><tr><th style="text-align:center;">æ–¹æ³•/ç‰¹å¾</th> <th style="text-align:center;">call</th> <th style="text-align:center;">apply</th> <th style="text-align:center;">bind</th></tr></thead> <tbody><tr><td style="text-align:center;">æ–¹æ³•å‚æ•°</td> <td style="text-align:center;">å¤šä¸ª</td> <td style="text-align:center;">å•ä¸ªæ•°ç»„</td> <td style="text-align:center;">å¤šä¸ª</td></tr> <tr><td style="text-align:center;">æ–¹æ³•åŠŸèƒ½</td> <td style="text-align:center;">å‡½æ•°è°ƒç”¨æ”¹å˜this</td> <td style="text-align:center;">å‡½æ•°è°ƒç”¨æ”¹å˜this</td> <td style="text-align:center;">å‡½æ•°è°ƒç”¨æ”¹å˜this</td></tr> <tr><td style="text-align:center;">è¿”å›ç»“æœ</td> <td style="text-align:center;">ç›´æ¥æ‰§è¡Œ</td> <td style="text-align:center;">ç›´æ¥æ‰§è¡Œ</td> <td style="text-align:center;">è¿”å›æ‰§è¡Œå‡½æ•°</td></tr></tbody></table> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myApply</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> ctx <span class="token operator">=</span> context <span class="token operator">||</span> window<span class="token punctuation">;</span>
	<span class="token keyword">let</span> func <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	ctx<span class="token punctuation">[</span>func<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> res <span class="token operator">=</span> args<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> ctx<span class="token punctuation">[</span>func<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">:</span> ctx<span class="token punctuation">[</span>func<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">delete</span> ctx<span class="token punctuation">[</span>func<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myCall</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> cxt <span class="token operator">=</span> context <span class="token operator">||</span> window<span class="token punctuation">;</span>
    <span class="token comment">// åœ¨contextä¸ŠåŠ ä¸€ä¸ªå”¯ä¸€å€¼ä¸å½±å“contextä¸Šçš„å±æ€§</span>
	<span class="token keyword">let</span> func <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	cxt<span class="token punctuation">[</span>func<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
	args <span class="token operator">=</span> args <span class="token operator">?</span> args <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> res <span class="token operator">=</span> args<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> cxt<span class="token punctuation">[</span>func<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">:</span> cxt<span class="token punctuation">[</span>func<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">delete</span> cxt<span class="token punctuation">[</span>func<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> res<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myBind</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
	args <span class="token operator">=</span> args <span class="token operator">?</span> args <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">newFn</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>newFnArgs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">newFn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">,</span> <span class="token operator">...</span>newFnArgs<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span>args<span class="token punctuation">,</span> <span class="token operator">...</span>newFnArgs<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="header-anchor">#</a> åŸå‹é“¾</h2> <blockquote><p>æ„é€ å‡½æ•°ã€åŸå‹å’Œå®ä¾‹çš„å…³ç³»ï¼šæ¯ä¸ªæ„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼ŒåŸå‹æœ‰ ä¸€ä¸ªå±æ€§æŒ‡å›æ„é€ å‡½æ•°ï¼Œè€Œå®ä¾‹æœ‰ä¸€ä¸ªå†…éƒ¨æŒ‡é’ˆæŒ‡å‘åŸå‹ã€‚å¦‚æœåŸå‹æ˜¯å¦ä¸€ä¸ªç±»å‹çš„å®ä¾‹å‘¢ï¼Ÿé‚£å°±æ„å‘³ ç€è¿™ä¸ªåŸå‹æœ¬èº«æœ‰ä¸€ä¸ªå†…éƒ¨æŒ‡é’ˆæŒ‡å‘å¦ä¸€ä¸ªåŸå‹ï¼Œç›¸åº”åœ°å¦ä¸€ä¸ªåŸå‹ä¹Ÿæœ‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å¦ä¸€ä¸ªæ„é€ å‡½ æ•°ã€‚è¿™æ ·å°±åœ¨å®ä¾‹å’ŒåŸå‹ä¹‹é—´æ„é€ äº†ä¸€æ¡åŸå‹é“¾ã€‚è¿™å°±æ˜¯åŸå‹é“¾çš„åŸºæœ¬æ„æƒ³ã€‚</p></blockquote> <p>ä»¥<code>Object</code>ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„<code>Object</code>ä¾¿æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//å®ä¾‹</span>
<span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//åŸå‹</span>
<span class="token keyword">const</span> prototype <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype
</code></pre></div><p>ä¸‰è€…çš„å…³ç³»</p> <ul><li><code>å®ä¾‹.__proto__ === åŸå‹</code></li> <li><code>åŸå‹.constructor === æ„é€ å‡½æ•°</code></li> <li><code>æ„é€ å‡½æ•°.prototype === åŸå‹</code></li></ul> <p><img src="https://poetries1.gitee.io/img-repo/2020/09/112.png" alt=""></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">æ›´æ–°æ—¶é—´:</span> <span class="time">2021/08/10 æ˜ŸæœŸäºŒ  10:02:18</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.bf1f901b.js" defer></script><script src="/assets/js/2.08c4f067.js" defer></script><script src="/assets/js/10.e039976a.js" defer></script>
  </body>
</html>
