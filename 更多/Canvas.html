<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CanvasRenderingContext2D | èƒ¡èåœèœ</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.ea438c07.css" as="style"><link rel="preload" href="/assets/js/app.bbc43154.js" as="script"><link rel="preload" href="/assets/js/2.9fe5dad5.js" as="script"><link rel="preload" href="/assets/js/24.d769d268.js" as="script"><link rel="prefetch" href="/assets/js/10.0820a4e3.js"><link rel="prefetch" href="/assets/js/11.0b9f026d.js"><link rel="prefetch" href="/assets/js/12.f4e79c51.js"><link rel="prefetch" href="/assets/js/13.542c9627.js"><link rel="prefetch" href="/assets/js/14.a53c2e19.js"><link rel="prefetch" href="/assets/js/15.fa8feac6.js"><link rel="prefetch" href="/assets/js/16.d08caf4c.js"><link rel="prefetch" href="/assets/js/17.62c76c77.js"><link rel="prefetch" href="/assets/js/18.d3b32e78.js"><link rel="prefetch" href="/assets/js/19.69526bf5.js"><link rel="prefetch" href="/assets/js/20.5e55a82a.js"><link rel="prefetch" href="/assets/js/21.c2a4572c.js"><link rel="prefetch" href="/assets/js/22.5dfd5fb4.js"><link rel="prefetch" href="/assets/js/23.29ef0db4.js"><link rel="prefetch" href="/assets/js/25.3ce1ff27.js"><link rel="prefetch" href="/assets/js/26.1bd4aec4.js"><link rel="prefetch" href="/assets/js/27.a12ffd25.js"><link rel="prefetch" href="/assets/js/28.de97d724.js"><link rel="prefetch" href="/assets/js/29.8c08d254.js"><link rel="prefetch" href="/assets/js/3.872bb4a3.js"><link rel="prefetch" href="/assets/js/30.de64ef10.js"><link rel="prefetch" href="/assets/js/31.9707c9e5.js"><link rel="prefetch" href="/assets/js/32.5ee24959.js"><link rel="prefetch" href="/assets/js/33.0aadd0ee.js"><link rel="prefetch" href="/assets/js/34.3b4e92af.js"><link rel="prefetch" href="/assets/js/35.8141258b.js"><link rel="prefetch" href="/assets/js/4.ff7c0758.js"><link rel="prefetch" href="/assets/js/5.4119f40d.js"><link rel="prefetch" href="/assets/js/6.83780561.js"><link rel="prefetch" href="/assets/js/7.d93d9b77.js"><link rel="prefetch" href="/assets/js/8.88d92839.js"><link rel="prefetch" href="/assets/js/9.cdb2092e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ea438c07.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="èƒ¡èåœèœ" class="logo"> <span class="site-name can-hide">èƒ¡èåœèœ</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µğŸˆ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯ğŸ±â€ğŸ‘“" class="dropdown-title"><span class="title">å‰ç«¯ğŸ±â€ğŸ‘“</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯ğŸ±â€ğŸ‘“" class="mobile-dropdown-title"><span class="title">å‰ç«¯ğŸ±â€ğŸ‘“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/å‰ç«¯/vue/" class="nav-link">
  vueç¬”è®°ğŸ¤·â€â™‚ï¸
</a></li><li class="dropdown-item"><!----> <a href="/å‰ç«¯/Javascript/" class="nav-link">
  JavaScriptç¬”è®°ğŸ¤¦â€â™€ï¸
</a></li><li class="dropdown-item"><!----> <a href="/å‰ç«¯/Css/csså¸¸ç”¨å‘½å.html" class="nav-link">
  CssğŸ˜¢
</a></li><li class="dropdown-item"><!----> <a href="/å‰ç«¯/å°ç¨‹åº/äº‘å‡½æ•°ç”Ÿæˆå°ç¨‹åºé“¾æ¥.html" class="nav-link">
  å°ç¨‹åº
</a></li></ul></div></div><div class="nav-item"><a href="/æ›´å¤š/Canvas.html" class="nav-link">
  æ›´å¤šğŸ±â€ğŸ
</a></div><div class="nav-item"><a href="/æ”¶è—/" class="nav-link">
  æ”¶è—â¤
</a></div> <a href="https://github.com/Guoxm521/documents" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µğŸˆ
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å‰ç«¯ğŸ±â€ğŸ‘“" class="dropdown-title"><span class="title">å‰ç«¯ğŸ±â€ğŸ‘“</span> <span class="arrow down"></span></button> <button type="button" aria-label="å‰ç«¯ğŸ±â€ğŸ‘“" class="mobile-dropdown-title"><span class="title">å‰ç«¯ğŸ±â€ğŸ‘“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/å‰ç«¯/vue/" class="nav-link">
  vueç¬”è®°ğŸ¤·â€â™‚ï¸
</a></li><li class="dropdown-item"><!----> <a href="/å‰ç«¯/Javascript/" class="nav-link">
  JavaScriptç¬”è®°ğŸ¤¦â€â™€ï¸
</a></li><li class="dropdown-item"><!----> <a href="/å‰ç«¯/Css/csså¸¸ç”¨å‘½å.html" class="nav-link">
  CssğŸ˜¢
</a></li><li class="dropdown-item"><!----> <a href="/å‰ç«¯/å°ç¨‹åº/äº‘å‡½æ•°ç”Ÿæˆå°ç¨‹åºé“¾æ¥.html" class="nav-link">
  å°ç¨‹åº
</a></li></ul></div></div><div class="nav-item"><a href="/æ›´å¤š/Canvas.html" class="nav-link">
  æ›´å¤šğŸ±â€ğŸ
</a></div><div class="nav-item"><a href="/æ”¶è—/" class="nav-link">
  æ”¶è—â¤
</a></div> <a href="https://github.com/Guoxm521/documents" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/æ›´å¤š/Canvas.html" class="active sidebar-link">Canvas</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/æ›´å¤š/Canvas.html#canvasrenderingcontext2d" class="sidebar-link">CanvasRenderingContext2D</a></li><li class="sidebar-sub-header"><a href="/æ›´å¤š/Canvas.html#drawimage" class="sidebar-link">drawImage()</a></li><li class="sidebar-sub-header"><a href="/æ›´å¤š/Canvas.html#createimagedata" class="sidebar-link">createImageData</a></li><li class="sidebar-sub-header"><a href="/æ›´å¤š/Canvas.html#putimagedata" class="sidebar-link">putImageData</a></li><li class="sidebar-sub-header"><a href="/æ›´å¤š/Canvas.html#getimagedata" class="sidebar-link">getImageData</a></li><li class="sidebar-sub-header"><a href="/æ›´å¤š/Canvas.html#htmlcanvaselement-toblob" class="sidebar-link">HTMLCanvasElement.toBlob()</a></li><li class="sidebar-sub-header"><a href="/æ›´å¤š/Canvas.html#htmlcanvaselement-todataurl" class="sidebar-link">HTMLCanvasElement.toDataURL()</a></li><li class="sidebar-sub-header"><a href="/æ›´å¤š/Canvas.html#æ¡ˆä¾‹" class="sidebar-link">æ¡ˆä¾‹</a></li></ul></li><li><a href="/æ›´å¤š/æ‚ä¸ƒæ‚å…«.html" class="sidebar-link">æ‚ä¸ƒæ‚å…«</a></li><li><a href="/æ›´å¤š/Gitæ“ä½œ.html" class="sidebar-link">Gitæ“ä½œ</a></li><li><a href="/æ›´å¤š/å‘å¸ƒnpmåŒ….html" class="sidebar-link">å‘å¸ƒnpmåŒ…</a></li><li><a href="/æ›´å¤š/dockerå­¦ä¹ .html" class="sidebar-link">dockerå­¦ä¹ </a></li><li><a href="/æ›´å¤š/MySQL.html" class="sidebar-link">MySQL</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="canvasrenderingcontext2d"><a href="#canvasrenderingcontext2d" class="header-anchor">#</a> CanvasRenderingContext2D</h2> <blockquote><p>CanvasRenderingContext2Dé¡¾åæ€ä¹‰å°±æ˜¯â€œCanvas 2Dæ¸²æŸ“ä¸Šä¸‹æ–‡â€ï¼Œå¯ä»¥ç†è§£ä¸ºä¸‹é¢ä»£ç ä¸­çš„contextã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> context <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>contextæš´éœ²äº†å¤§é‡çš„APIå±æ€§å’Œæ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¥ç»˜åˆ¶æ–‡æœ¬ï¼Œå›¾å½¢ä»¥åŠåƒç´ å¤„ç†ç­‰ï¼Œå¯ä»¥è¯´æ˜¯2D Canvasåº”ç”¨çš„æ ¸å¿ƒæ‰€åœ¨ã€‚</p></blockquote> <h3 id="ç»˜åˆ¶çŸ©å½¢"><a href="#ç»˜åˆ¶çŸ©å½¢" class="header-anchor">#</a> ç»˜åˆ¶çŸ©å½¢</h3> <p><code>CanvasRenderingContext2D.clearRect()</code>
æ¸…é™¤æŒ‡å®šçŸ©å½¢åŒºåŸŸå†…éƒ¨æ‰€æœ‰çš„åƒç´ ä¿¡æ¯ä¸ºåˆå§‹è‰²ï¼ˆé€šå¸¸ä¸ºé€æ˜ï¼‰ã€‚
<code>CanvasRenderingContext2D.fillRect()</code>
çŸ©å½¢å¡«å……ï¼Œå¯ä»¥å¡«å……é¢œè‰²ï¼Œæ¸å˜ï¼Œå›¾æ¡ˆç­‰ã€‚
<code>CanvasRenderingContext2D.strokeRect()</code>
çŸ©å½¢æè¾¹ã€‚</p> <h3 id="ç»˜åˆ¶æ–‡æœ¬"><a href="#ç»˜åˆ¶æ–‡æœ¬" class="header-anchor">#</a> ç»˜åˆ¶æ–‡æœ¬</h3> <p><code>CanvasRenderingContext2D.fillText()</code>
æ–‡å­—å¡«å……ï¼Œå¯ä»¥å¡«å……çº¯è‰²ï¼Œæ¸å˜æˆ–è€…å›¾æ¡ˆã€‚
<code>CanvasRenderingContext2D.strokeText()</code>
æ–‡å­—æè¾¹ã€‚
<code>CanvasRenderingContext2D.measureText()</code>
æ–‡å­—æµ‹é‡ã€‚è¿”å›TextMetricså¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„widthå±æ€§å€¼å°±æ˜¯å­—ç¬¦å æ®çš„å®½åº¦ã€‚</p> <h3 id="çº¿æ¡æ ·å¼"><a href="#çº¿æ¡æ ·å¼" class="header-anchor">#</a> çº¿æ¡æ ·å¼</h3> <p><code>CanvasRenderingContext2D.lineWidth</code>
çº¿æ¡å®½åº¦ï¼Œä¸»ä½¿ç”¨åœºæ™¯æ˜¯æè¾¹ï¼Œé»˜è®¤å®½åº¦æ˜¯1.0ï¼Œæ”¯æŒå°æ•°ã€‚
<code>CanvasRenderingContext2D.lineCap</code>
çº¿æ¡ç«¯ç‚¹çš„æ ·å¼ã€‚æ”¯æŒå¦‚ä¸‹å±æ€§å€¼ï¼š<code>butt</code>ï¼ˆé»˜è®¤å€¼ï¼Œæ–­å¤´ï¼Œæ— ç«¯å¸½ï¼‰ï¼Œ<code>round</code>ï¼ˆåœ†å½¢ç«¯å¸½ï¼‰ï¼Œ<code>square</code>ï¼ˆæ–¹å½¢ç«¯å¸½ï¼‰ã€‚
<code>CanvasRenderingContext2D.lineJoin</code>
çº¿æ¡è½¬è§’çš„æ ·å¼ã€‚æ”¯æŒå¦‚ä¸‹å±æ€§å€¼ï¼š<code>miter</code>ï¼ˆé»˜è®¤å€¼ï¼Œå°–è§’ï¼‰ï¼Œ<code>round</code>ï¼ˆåœ†è§’ï¼‰ï¼Œ<code>bevel</code>ï¼ˆå¹³è§’ï¼‰ã€‚
<code>CanvasRenderingContext2D.miterLimit</code>
å°–è§’é™åˆ¶æ¯”ç‡ã€‚çº¿æ¡çš„å°–è§’å¦‚æœæ²¡æœ‰é™åˆ¶ï¼Œåœ¨çº¿æ¡ç²—è§’åº¦å°çš„æƒ…å†µä¸‹ä¼šå¾ˆé•¿å¾ˆé•¿ï¼Œå› æ­¤ï¼Œéœ€è¦ä¸€ä¸ªé™åˆ¶æ¯”ç‡ã€‚é»˜è®¤æ˜¯10ã€‚
<code>CanvasRenderingContext2D.getLineDash()</code>
è¿”å›å½“å‰è™šçº¿æ•°å€¼ã€‚è¿”å›å€¼æ˜¯ä¸€ä¸ªå¶æ•°ä¸ªæ•°çš„æ•°ç»„
<code>CanvasRenderingContext2D.setLineDash()</code>
è®¾ç½®çº¿æ¡ä¸ºè™šçº¿ã€‚
<code>CanvasRenderingContext2D.lineDashOffset</code>
è®¾ç½®è™šçº¿çš„èµ·å§‹åç§»ã€‚</p> <h3 id="æ–‡æœ¬æ ·å¼"><a href="#æ–‡æœ¬æ ·å¼" class="header-anchor">#</a> æ–‡æœ¬æ ·å¼</h3> <p><code>CanvasRenderingContext2D.font</code>
è®¾ç½®å­—ä½“ç›¸å…³æ ·å¼ï¼ŒåŒ…æ‹¬å­—å·ï¼Œå­—ä½“ä¿¡æ¯ã€‚é»˜è®¤å€¼æ˜¯<code>10px sans-serif</code>ã€‚
<code>CanvasRenderingContext2D.textAlign</code>
è®¾ç½®æ–‡æœ¬æ°´å¹³å¯¹é½æ–¹å¼ã€‚æ”¯æŒå±æ€§å€¼æœ‰ï¼šstartï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œendï¼Œleftï¼Œrightä»¥åŠcenterã€‚
<code>CanvasRenderingContext2D.textBaseline</code>
è®¾ç½®æ–‡æœ¬åŸºçº¿å¯¹é½æ–¹å¼ã€‚æ”¯æŒå±æ€§å€¼æœ‰ï¼štopï¼Œhangingï¼Œmiddleï¼Œalphabeticï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œideographicï¼Œbottomã€‚
<code>CanvasRenderingContext2D.direction</code>
è®¾ç½®æ–‡æœ¬æ˜¾ç¤ºæ–¹å‘ã€‚æ”¯æŒå±æ€§å€¼æœ‰ï¼šinheritï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œltrå’Œrtlã€‚</p> <h3 id="å¡«å……å’Œæè¾¹"><a href="#å¡«å……å’Œæè¾¹" class="header-anchor">#</a> å¡«å……å’Œæè¾¹</h3> <p><code>CanvasRenderingContext2D.fillStyle</code>
å¡«å……æ ·å¼ã€‚é»˜è®¤å€¼æ˜¯#000000çº¯é»‘è‰²ã€‚
<code>CanvasRenderingContext2D.fill()</code>
å¡«å……ã€‚
<code>CanvasRenderingContext2D.strokeStyle</code>
æè¾¹æ ·å¼ã€‚é»˜è®¤å€¼æ˜¯#000000çº¯é»‘è‰²ã€‚
<code>CanvasRenderingContext2D.stroke()</code>
æè¾¹ã€‚</p> <h3 id="æ¸å˜ç›¸å…³"><a href="#æ¸å˜ç›¸å…³" class="header-anchor">#</a> æ¸å˜ç›¸å…³</h3> <p>Canvasä¸­ä¸æ¸å˜ç›¸å…³çš„æ–¹æ³•å°±æ˜¯åˆ›å»ºçº¿æ€§æ¸å˜å’Œå¾„å‘æ¸å˜è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚</p> <p><code>CanvasRenderingContext2D.createLinearGradient()</code>
åˆ›å»ºçº¿æ€§æ¸å˜ã€‚
<code>CanvasRenderingContext2D.createRadialGradient()</code>
åˆ›å»ºå¾„å‘æ¸å˜ã€‚</p> <h3 id="å›¾æ¡ˆç›¸å…³"><a href="#å›¾æ¡ˆç›¸å…³" class="header-anchor">#</a> å›¾æ¡ˆç›¸å…³</h3> <p>Canvasä¸­ä¸å›¾æ¡ˆç›¸å…³çš„æ–¹æ³•å°±æ˜¯åˆ›å»ºå›¾æ¡ˆå¯¹è±¡æ–¹æ³•ã€‚</p> <p><code>CanvasRenderingContext2D.createPattern()</code>
åˆ›å»ºå›¾æ¡ˆã€‚å›¾æ¡ˆå†…å®¹å¯ä»¥æ˜¯å›¾ç‰‡ï¼Œå¯ä»¥æ˜¯<code>&lt;canvas&gt;</code>å…ƒç´ ï¼Œä¹Ÿå¯ä»¥æ˜¯æ¸å˜ã€‚æ­¤æ–¹æ³•è¿”å›<code>CanvasPattern</code>å¯¹è±¡ã€‚</p> <h3 id="é˜´å½±ç›¸å…³"><a href="#é˜´å½±ç›¸å…³" class="header-anchor">#</a> é˜´å½±ç›¸å…³</h3> <p>Canvasä¸­ä¸é˜´å½±ç›¸å…³çš„å±æ€§å°±æ˜¯ä¸‹é¢è¿™äº›ã€‚</p> <p><code>CanvasRenderingContext2D.shadowBlur</code>
é˜´å½±æ¨¡ç³Šå¤§å°ã€‚é»˜è®¤å€¼æ˜¯0ã€‚
<code>CanvasRenderingContext2D.shadowColor</code>
é˜´å½±é¢œè‰²ã€‚é»˜è®¤å€¼æ˜¯å…¨é€æ˜é»‘è‰²ã€‚
<code>CanvasRenderingContext2D.shadowOffsetX</code>
é˜´å½±æ°´å¹³åç§»å¤§å°ã€‚é»˜è®¤å€¼æ˜¯0ã€‚
<code>CanvasRenderingContext2D.shadowOffsetY</code>
é˜´å½±å‚ç›´åç§»å¤§å°ã€‚é»˜è®¤å€¼æ˜¯0ã€‚</p> <h3 id="ç»˜åˆ¶è·¯å¾„"><a href="#ç»˜åˆ¶è·¯å¾„" class="header-anchor">#</a> ç»˜åˆ¶è·¯å¾„</h3> <p>ä¸‹é¢çš„æ–¹æ³•å¯ä»¥ç”¨æ¥å¤„ç†è·¯å¾„å¯¹è±¡ã€‚</p> <p><code>CanvasRenderingContext2D.beginPath()</code>
å¼€å§‹ä¸€ä¸ªæ–°è·¯å¾„ã€‚
<code>CanvasRenderingContext2D.closePath()</code>
é—­åˆä¸€ä¸ªè·¯å¾„ã€‚
<code>CanvasRenderingContext2D.moveTo()</code>
è·¯å¾„ç»˜åˆ¶èµ·å§‹ç‚¹ã€‚
<code>CanvasRenderingContext2D.lineTo()</code>
ç»˜åˆ¶ç›´çº¿åˆ°æŒ‡å®šåæ ‡ç‚¹ã€‚
<code>CanvasRenderingContext2D.bezierCurveTo()</code>
ç»˜åˆ¶è´èµ›å°”æ›²çº¿åˆ°æŒ‡å®šåæ ‡ç‚¹ã€‚
<code>CanvasRenderingContext2D.quadraticCurveTo()</code>
ç»˜åˆ¶äºŒæ¬¡è´èµ›å°”æ›²çº¿åˆ°æŒ‡å®šåæ ‡ç‚¹ã€‚
<code>CanvasRenderingContext2D.arc()</code>
ç»˜åˆ¶åœ†å¼§ï¼ˆåŒ…æ‹¬åœ†ï¼‰ã€‚
<code>CanvasRenderingContext2D.arcTo()</code>
ç»˜åˆ¶åœ†å¼§ï¼Œå’Œä¹‹å‰çš„ç‚¹ä»¥ç›´çº¿ç›¸è¿ã€‚
<code>CanvasRenderingContext2D.rect()</code>
ç»˜åˆ¶çŸ©å½¢è·¯å¾„ã€‚
<code>CanvasRenderingContext2D.ellipse()</code>
ç»˜åˆ¶æ¤­åœ†è·¯å¾„ã€‚
<code>CanvasRenderingContext2D.clip()</code>
åˆ›å»ºå‰ªè£è·¯å¾„ï¼Œä¹‹åç»˜åˆ¶çš„è·¯å¾„åªæœ‰åœ¨é‡Œé¢çš„æ‰ä¼šæ˜¾ç¤ºã€‚</p> <h3 id="ä½ç½®æ£€æµ‹"><a href="#ä½ç½®æ£€æµ‹" class="header-anchor">#</a> ä½ç½®æ£€æµ‹</h3> <p><code>CanvasRenderingContext2D.isPointInPath()</code>
å½“å‰ç‚¹æ˜¯å¦åœ¨æŒ‡å®šè·¯å¾„å†…ã€‚
<code>CanvasRenderingContext2D.isPointInStroke()</code>
å½“å‰ç‚¹æ˜¯å¦åœ¨æŒ‡å®šè·¯å¾„æè¾¹ä¸Šã€‚</p> <h3 id="å˜æ¢"><a href="#å˜æ¢" class="header-anchor">#</a> å˜æ¢</h3> <p>æ—‹è½¬ç¼©æ”¾ç­‰å˜æ¢æ–¹æ³•ã€‚</p> <p><code>CanvasRenderingContext2D.rotate()</code>
æ—‹è½¬ã€‚
<code>CanvasRenderingContext2D.scale()</code>
ç¼©æ”¾ã€‚
<code>CanvasRenderingContext2D.translate()</code>
ä½ç§»ã€‚
<code>CanvasRenderingContext2D.transform()</code>
å½“å‰çŸ©é˜µå˜æ¢åŸºç¡€ä¸Šå†æ¬¡çŸ©é˜µå˜æ¢ã€‚
<code>CanvasRenderingContext2D.setTransform()</code>
ç›´æ¥é‡ç½®ä¸ºå½“å‰è®¾ç½®çš„çŸ©é˜µå˜æ¢ã€‚</p> <h3 id="é€æ˜åº¦å’Œå±‚çº§"><a href="#é€æ˜åº¦å’Œå±‚çº§" class="header-anchor">#</a> é€æ˜åº¦å’Œå±‚çº§</h3> <p>ä¸€ä¸ªæ˜¯æ§åˆ¶å…¨å±€é€æ˜åº¦ï¼Œå¦å¤–ä¸€ä¸ªå¯ä»¥æ”¹å˜å±‚çº§å…³ç³»ï¼Œè®¾ç½®æ··åˆæ¨¡å¼ï¼Œä»¥åŠå®ç°é®ç½©æ•ˆæœç­‰ã€‚</p> <p><code>CanvasRenderingContext2D.globalAlpha</code>
å…¨å±€é€æ˜åº¦ã€‚
<code>CanvasRenderingContext2D.globalCompositeOperation</code>
è®¾ç½®å›¾å½¢å åŠ æ—¶å€™çš„æ··åˆæ–¹å¼ï¼Œå¯ä»¥ç”¨æ¥æ”¹å˜ç»˜åˆ¶å…ƒç´ ä¸Šä¸‹å åŠ å…³ç³»ï¼Œä¹Ÿå°±æ˜¯å±‚çº§ã€‚</p> <h3 id="å›¾ç‰‡ä¸åƒç´ "><a href="#å›¾ç‰‡ä¸åƒç´ " class="header-anchor">#</a> å›¾ç‰‡ä¸åƒç´ </h3> <p>ç»˜åˆ¶å›¾ç‰‡å’Œå›¾åƒåƒç´ ä¿¡æ¯å¤„ç†æ–¹æ³•ã€‚</p> <p><code>CanvasRenderingContext2D.drawImage()</code>
å›¾ç‰‡ç»˜åˆ¶åœ¨ç”»å¸ƒä¸Šã€‚
<code>CanvasRenderingContext2D.createImageData()</code>
åˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºç™½çš„ImageDataå¯¹è±¡ã€‚
<code>CanvasRenderingContext2D.getImageData()</code>
è·å–Canvasç”»å¸ƒçš„è®¾å®šåŒºåŸŸçš„ImageDataå¯¹è±¡ã€‚
<code>CanvasRenderingContext2D.putImageData()</code>
ç»™å®šçš„ImageDataå¯¹è±¡åº”ç”¨åœ¨Canvasç”»å¸ƒä¸Šã€‚</p> <h3 id="canvasçŠ¶æ€"><a href="#canvasçŠ¶æ€" class="header-anchor">#</a> CanvasçŠ¶æ€</h3> <p>CanvasçŠ¶æ€ç®¡ç†å‡ ä¸ªæ–¹æ³•ã€‚</p> <p><code>CanvasRenderingContext2D.save()</code>
å­˜å‚¨å½“å‰Canvasçš„çŠ¶æ€ã€‚
<code>CanvasRenderingContext2D.restore()</code>
æ¢å¤Canvasåˆ°å‰ä¸€æ¬¡å­˜å‚¨çš„çŠ¶æ€ã€‚
<code>CanvasRenderingContext2D.canvas</code>
åå‘è¯†åˆ«å½“å‰ä¸Šä¸‹æ–‡æºè‡ªå“ªä¸ªHTMLCanvasElementã€‚</p> <h3 id="å…¶ä»–æ–¹æ³•"><a href="#å…¶ä»–æ–¹æ³•" class="header-anchor">#</a> å…¶ä»–æ–¹æ³•</h3> <p>å…¶ä»–ä¸€äº›ä¸å¸¸ç”¨çš„APIæ–¹æ³•ã€‚</p> <p><code>CanvasRenderingContext2D.drawFocusIfNeeded()</code>
å¦‚æœç»™å®šå…ƒç´ è¢«èšç„¦ï¼Œåˆ™è¯¥æ–¹æ³•åœ¨å½“å‰è·¯å¾„å‘¨å›´ç»˜åˆ¶ç„¦ç‚¹ç¯ã€‚
<code>CanvasRenderingContext2D.scrollPathIntoView()</code>
å°†å½“å‰è·¯å¾„æˆ–ç»™å®šè·¯å¾„æ»šåŠ¨åˆ°è§†å›¾ä¸­ã€‚</p> <hr> <h2 id="drawimage"><a href="#drawimage" class="header-anchor">#</a> drawImage()</h2> <blockquote><p>canvasä¸webç»“åˆä½¿ç”¨æœ€é¢‘ç¹çš„çš„æ–¹æ³•ï¼Œä¸€èˆ¬ç”¨æ¥å›¾åƒçš„ç›¸å…³å¤„ç†ï¼Œå¦‚å›¾ç‰‡å‹ç¼©ï¼Œæ°´å°åˆæˆç­‰ç­‰</p></blockquote> <h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="header-anchor">#</a> è¯­æ³•</h3> <div class="language-js extra-class"><pre class="language-js"><code>context<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> dx<span class="token punctuation">,</span> dy<span class="token punctuation">)</span><span class="token punctuation">;</span>
context<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> dx<span class="token punctuation">,</span> dy<span class="token punctuation">,</span> dWidth<span class="token punctuation">,</span> dHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
context<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> sx<span class="token punctuation">,</span> sy<span class="token punctuation">,</span> sWidth<span class="token punctuation">,</span> sHeight<span class="token punctuation">,</span> dx<span class="token punctuation">,</span> dy<span class="token punctuation">,</span> dWidth<span class="token punctuation">,</span> dHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="å‚æ•°è¯´æ˜"><a href="#å‚æ•°è¯´æ˜" class="header-anchor">#</a> å‚æ•°è¯´æ˜</h3> <div class="language-js extra-class"><pre class="language-js"><code>image<span class="token punctuation">,</span>
sx<span class="token punctuation">,</span>  å›¾ç‰‡å…ƒç´ ç»˜åˆ¶åœ¨Canvasç”»å¸ƒä¸Šèµ·å§‹æ¨ªåæ ‡ã€‚
sy<span class="token punctuation">,</span>  å›¾ç‰‡å…ƒç´ ç»˜åˆ¶åœ¨Canvasç”»å¸ƒä¸Šèµ·å§‹çºµåæ ‡
sWidth<span class="token punctuation">,</span>  å›¾ç‰‡æœ¬èº«ç»˜åˆ¶åœ¨canvasä¸Šçš„é•¿åº¦
sHeight<span class="token punctuation">,</span>  å›¾ç‰‡æœ¬èº«ç»˜åˆ¶åœ¨canvasä¸Šçš„é«˜åº¦
dx<span class="token punctuation">,</span>  å·¦ä¸Šè§’æ¨ªåæ ‡
dy<span class="token punctuation">,</span>  å·¦ä¸Šè§’çºµåæ ‡
dWidth<span class="token punctuation">,</span>  ç»˜åˆ¶å›¾ç‰‡å®¹å™¨åŒºåŸŸçš„å®½åº¦
dHeight  ç»˜åˆ¶å›¾ç‰‡å®¹å™¨åŒºåŸŸçš„é«˜åº¦
</code></pre></div><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="header-anchor">#</a> ç¤ºä¾‹</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token punctuation">[</span>width<span class="token punctuation">,</span> height<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">]</span><span class="token punctuation">;</span>
canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>
canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>
<span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;./images/dog.jpg&quot;</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> cxt <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// cxt.drawImage(img, 0, 0);</span>
				<span class="token comment">// cxt.drawImage(img, 0, 0, 50, 50);</span>
	cxt<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="createimagedata"><a href="#createimagedata" class="header-anchor">#</a> createImageData</h2> <blockquote><p>æ–¹æ³•å¯ä»¥åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„ç©ºçš„ImageDataå¯¹è±¡ã€‚è¯¥å¯¹è±¡ä¸­çš„æ‰€æœ‰åƒç´ ä¿¡æ¯éƒ½æ˜¯é€æ˜é»‘ã€‚</p></blockquote> <h3 id="è¯­æ³•-2"><a href="#è¯­æ³•-2" class="header-anchor">#</a> è¯­æ³•</h3> <div class="language-js extra-class"><pre class="language-js"><code>context<span class="token punctuation">.</span><span class="token function">createImageData</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span> 
context<span class="token punctuation">.</span><span class="token function">createImageData</span><span class="token punctuation">(</span>imagedata<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="å‚æ•°è¯´æ˜-2"><a href="#å‚æ•°è¯´æ˜-2" class="header-anchor">#</a> å‚æ•°è¯´æ˜</h3> <div class="language-js extra-class"><pre class="language-js"><code>width Number 
ImageDataå¯¹è±¡åŒ…å«çš„widthå€¼ã€‚å¦‚æœImageDataå¯¹è±¡è½¬æ¢æˆå›¾åƒï¼Œåˆ™æ­¤widthä¹Ÿæ˜¯æœ€ç»ˆå›¾åƒå‘ˆç°çš„å®½åº¦ã€‚
height Number
ImageDataå¯¹è±¡åŒ…å«çš„heightå€¼ã€‚å¦‚æœImageDataå¯¹è±¡è½¬æ¢æˆå›¾åƒï¼Œåˆ™æ­¤heightä¹Ÿæ˜¯æœ€ç»ˆå›¾åƒå‘ˆç°çš„é«˜åº¦ã€‚
imagedataObject
ä¸€ä¸ªå­˜åœ¨çš„ImageDataå¯¹è±¡ï¼Œåªä¼šä½¿ç”¨è¯¥ImageDataå¯¹è±¡ä¸­çš„widthå’Œheightå€¼ï¼ŒåŒ…å«çš„åƒç´ ä¿¡æ¯ä¼šå…¨éƒ¨è½¬æ¢ä¸ºé€æ˜é»‘ã€‚
</code></pre></div><div class="language-md extra-class"><pre class="language-md"><code>::: æç¤º
ç”Ÿæˆçš„ImageDataé‡Œé¢çš„dataå€¼ä¸ºä¸€ä¸ªæ•°ç»„   å…¶ä¸­å››ä¸ªå€¼ç»„æˆä¸€ä¸ªåƒç´ ç‚¹çš„å€¼
:::
</code></pre></div><h2 id="putimagedata"><a href="#putimagedata" class="header-anchor">#</a> putImageData</h2> <blockquote><p>å°†ç»™å®šImageDataå¯¹è±¡çš„æ•°æ®ç»˜åˆ¶åˆ°ä½å›¾ä¸Šã€‚ å¦‚æœæä¾›è„çŸ©å½¢ï¼Œåˆ™ä»…ç»˜åˆ¶è¯¥çŸ©å½¢çš„åƒç´ ã€‚ æ­¤æ–¹æ³•ä¸å—ç”»å¸ƒå˜æ¢çŸ©é˜µçš„å½±å“ã€‚</p></blockquote> <h3 id="è¯­æ³•-3"><a href="#è¯­æ³•-3" class="header-anchor">#</a> è¯­æ³•</h3> <div class="language-js extra-class"><pre class="language-js"><code>context<span class="token punctuation">.</span><span class="token function">putImageData</span><span class="token punctuation">(</span>imagedata<span class="token punctuation">,</span> dx<span class="token punctuation">,</span> dy<span class="token punctuation">)</span><span class="token punctuation">;</span>
context<span class="token punctuation">.</span><span class="token function">putImageData</span><span class="token punctuation">(</span>imagedata<span class="token punctuation">,</span> dx<span class="token punctuation">,</span> dy<span class="token punctuation">,</span> dirtyX<span class="token punctuation">,</span> dirtyY<span class="token punctuation">,</span> dirtyWidth<span class="token punctuation">,</span> dirtyHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="å‚æ•°"><a href="#å‚æ•°" class="header-anchor">#</a> å‚æ•°</h3> <div class="language-js extra-class"><pre class="language-js"><code>imagedata<span class="token punctuation">,</span>
dx<span class="token punctuation">,</span>  ç»˜åˆ¶åœ¨Canvasç”»å¸ƒä¸Šèµ·å§‹æ¨ªåæ ‡ã€‚
dy<span class="token punctuation">,</span>  ç»˜åˆ¶åœ¨Canvasç”»å¸ƒä¸Šèµ·å§‹çºµåæ ‡
dirtyX<span class="token punctuation">,</span>  å›¾åƒæ•°æ®æ¸²æŸ“åŒºåŸŸçš„å·¦ä¸Šè§’æ¨ªåæ ‡ã€‚é»˜è®¤å€¼æ˜¯<span class="token number">0</span>
dirtyY<span class="token punctuation">,</span>  å›¾åƒæ•°æ®æ¸²æŸ“åŒºåŸŸçš„å·¦ä¸Šè§’çºµåæ ‡ã€‚é»˜è®¤å€¼æ˜¯<span class="token number">0</span>ã€‚
dirtyWidth<span class="token punctuation">,</span>  å›¾åƒæ•°æ®æ¸²æŸ“åŒºåŸŸçš„å®½åº¦
dirtyHeight<span class="token punctuation">,</span>  å›¾åƒæ•°æ®æ¸²æŸ“åŒºåŸŸçš„é«˜åº¦
</code></pre></div><h2 id="getimagedata"><a href="#getimagedata" class="header-anchor">#</a> getImageData</h2> <blockquote><p>è¿”å›ä¸€ä¸ªImageDataå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«Canvasç”»å¸ƒéƒ¨åˆ†æˆ–å®Œæ•´çš„åƒç´ ç‚¹ä¿¡æ¯ã€‚</p></blockquote> <h3 id="è¯­æ³•-4"><a href="#è¯­æ³•-4" class="header-anchor">#</a> è¯­æ³•</h3> <div class="language-js extra-class"><pre class="language-js"><code>context<span class="token punctuation">.</span><span class="token function">getImageData</span><span class="token punctuation">(</span>sx<span class="token punctuation">,</span> sy<span class="token punctuation">,</span> sWidth<span class="token punctuation">,</span> sHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="å‚æ•°-2"><a href="#å‚æ•°-2" class="header-anchor">#</a> å‚æ•°</h3> <div class="language-js extra-class"><pre class="language-js"><code>sx Number
éœ€è¦è¿”å›çš„å›¾åƒæ•°æ®åŒºåŸŸçš„èµ·å§‹æ¨ªåæ ‡ã€‚
sy Number
éœ€è¦è¿”å›çš„å›¾åƒæ•°æ®åŒºåŸŸçš„èµ·å§‹çºµåæ ‡ã€‚
sWidth Number
éœ€è¦è¿”å›çš„å›¾åƒæ•°æ®åŒºåŸŸçš„å®½åº¦ã€‚
sHeight Number
éœ€è¦è¿”å›çš„å›¾åƒæ•°æ®åŒºåŸŸçš„é«˜åº¦ã€‚
</code></pre></div><h2 id="htmlcanvaselement-toblob"><a href="#htmlcanvaselement-toblob" class="header-anchor">#</a> HTMLCanvasElement.toBlob()</h2> <h3 id="è¯­æ³•-5"><a href="#è¯­æ³•-5" class="header-anchor">#</a> è¯­æ³•</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">void</span> canvas<span class="token punctuation">.</span><span class="token function">toBlob</span><span class="token punctuation">(</span>callback<span class="token punctuation">,</span> mimeType<span class="token punctuation">,</span> quality<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="å‚æ•°-3"><a href="#å‚æ•°-3" class="header-anchor">#</a> å‚æ•°</h3> <div class="language-js extra-class"><pre class="language-js"><code>callback   Function
       <span class="token function">toBlob</span><span class="token punctuation">(</span><span class="token punctuation">)</span>æ–¹æ³•æ‰§è¡ŒæˆåŠŸåçš„å›è°ƒæ–¹æ³•ï¼Œæ”¯æŒä¸€ä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå½“å‰è½¬æ¢çš„Blobå¯¹è±¡ã€‚
mimeTypeï¼ˆå¯é€‰ï¼‰String
       mimeTypeè¡¨ç¤ºéœ€è¦è½¬æ¢çš„å›¾åƒçš„mimeTypeç±»å‹ã€‚é»˜è®¤å€¼æ˜¯image<span class="token operator">/</span>pngï¼Œè¿˜å¯ä»¥æ˜¯image<span class="token operator">/</span>jpegï¼Œç”šè‡³image<span class="token operator">/</span>webpï¼ˆå‰ææµè§ˆå™¨        æ”¯æŒï¼‰ç­‰ã€‚
quality  ï¼ˆå¯é€‰ï¼‰Number
quality  <span class="token function">è¡¨ç¤ºè½¬æ¢çš„å›¾ç‰‡è´¨é‡ã€‚èŒƒå›´æ˜¯0åˆ°1ã€‚ç”±äºCanvasçš„toBlob</span><span class="token punctuation">(</span><span class="token punctuation">)</span>æ–¹æ³•è½¬<span class="token constant">PNG</span>æ˜¯æ— æŸçš„ï¼Œå› æ­¤ï¼Œæ­¤å‚æ•°é»˜è®¤æ˜¯æ²¡æœ‰æ•ˆçš„ï¼Œé™¤éï¼ŒæŒ‡ å®šå›¾ç‰‡mimeTypeæ˜¯image<span class="token operator">/</span>jpegæˆ–è€…image<span class="token operator">/</span>webpï¼Œæ­¤æ—¶é»˜è®¤å‹ç¼©å€¼æ˜¯<span class="token number">0.92</span>ã€‚
</code></pre></div><h3 id="ç¤ºä¾‹-2"><a href="#ç¤ºä¾‹-2" class="header-anchor">#</a> ç¤ºä¾‹</h3> <div class="language-js extra-class"><pre class="language-js"><code>		canvas<span class="token punctuation">.</span><span class="token function">toBlob</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">blob</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">const</span> a <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">let</span> url <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span><span class="token punctuation">;</span>
			a<span class="token punctuation">.</span>href <span class="token operator">=</span> url<span class="token punctuation">;</span>
			a<span class="token punctuation">.</span>download <span class="token operator">=</span> <span class="token string">&quot;å›¾ç‰‡&quot;</span><span class="token punctuation">;</span>
			a<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">revokeObjectURL</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="htmlcanvaselement-todataurl"><a href="#htmlcanvaselement-todataurl" class="header-anchor">#</a> HTMLCanvasElement.toDataURL()</h2> <blockquote><p>Canvasæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªä½å›¾å›¾åƒï¼Œå› æ­¤ï¼Œæµè§ˆå™¨æä¾›äº†è‹¥å¹²APIå¯ä»¥å°†Canvaså›¾åƒè½¬æ¢æˆå¯ä»¥ä½œä¸ºIMGå‘ˆç°çš„æ•°æ®ï¼Œå…¶ä¸­æœ€è€ç‰Œçš„æ–¹æ³•å°±æ˜¯HTMLCanvasElement.toDataURL()ï¼Œæ­¤æ–¹æ³•å¯ä»¥è¿”å›Canvaså›¾åƒå¯¹åº”çš„data URIï¼Œä¹Ÿå°±æ˜¯å¹³å¸¸æˆ‘ä»¬æ‰€è¯´çš„base64åœ°å€ã€‚</p></blockquote> <h3 id="è¯­æ³•-6"><a href="#è¯­æ³•-6" class="header-anchor">#</a> è¯­æ³•</h3> <div class="language-js extra-class"><pre class="language-js"><code>canvas<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span>mimeType<span class="token punctuation">,</span> quality<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="å‚æ•°-4"><a href="#å‚æ•°-4" class="header-anchor">#</a> å‚æ•°</h3> <div class="language-js extra-class"><pre class="language-js"><code>mimeTypeï¼ˆå¯é€‰ï¼‰String
    mimeTypeè¡¨ç¤ºéœ€è¦è½¬æ¢çš„å›¾åƒçš„mimeTypeç±»å‹ã€‚é»˜è®¤å€¼æ˜¯image<span class="token operator">/</span>pngï¼Œè¿˜å¯ä»¥æ˜¯image<span class="token operator">/</span>jpegï¼Œç”šè‡³image<span class="token operator">/</span>webpï¼ˆå‰ææµè§ˆå™¨æ”¯æŒï¼‰ç­‰ã€‚
qualityï¼ˆå¯é€‰ï¼‰Number
    qualityè¡¨ç¤ºè½¬æ¢çš„å›¾ç‰‡è´¨é‡ã€‚èŒƒå›´æ˜¯<span class="token number">0</span>åˆ°<span class="token number">1</span>ã€‚æ­¤å‚æ•°è¦æƒ³æœ‰æ•ˆï¼Œå›¾ç‰‡çš„mimeTypeéœ€è¦æ˜¯image<span class="token operator">/</span>jpegæˆ–è€…image<span class="token operator">/</span>webpï¼Œå…¶ä»–mimeTypeå€¼æ— æ•ˆã€‚é»˜è®¤å‹ç¼©è´¨é‡æ˜¯<span class="token number">0.92</span><span class="token function">ã€‚æ ¹æ®è‡ªå·±çš„è‚‰çœ¼åˆ†è¾¨ï¼Œå¦‚æœä½¿ç”¨toDataURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span>çš„qualityå‚æ•°å¯¹å›¾ç‰‡è¿›è¡Œå‹ç¼©ï¼ŒåŒæ ·çš„å‹ç¼©ç™¾åˆ†æ¯”å‘ˆç°æ•ˆæœè¦æ¯”Adobe Photoshopå·®ä¸€äº›
</code></pre></div><h2 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="header-anchor">#</a> æ¡ˆä¾‹</h2> <h3 id="ç»˜åˆ¶å›¾ç‰‡"><a href="#ç»˜åˆ¶å›¾ç‰‡" class="header-anchor">#</a> ç»˜åˆ¶å›¾ç‰‡</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;canvas&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">;</span>
canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span>
<span class="token keyword">const</span> ctx <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;images/dog.jpg&quot;</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token punctuation">{</span> width<span class="token punctuation">,</span> height <span class="token punctuation">}</span> <span class="token operator">=</span> img<span class="token punctuation">;</span>
	ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> imgDt <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getImageData</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">//ä¿®æ”¹åƒç´ </span>
	<span class="token keyword">const</span> data <span class="token operator">=</span> imgDt<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">100000</span> <span class="token operator">||</span> i <span class="token operator">&gt;</span> <span class="token number">200000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
ctx<span class="token punctuation">.</span><span class="token function">putImageData</span><span class="token punctuation">(</span>imgDt<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="å›¾ç‰‡ç½®ç°"><a href="#å›¾ç‰‡ç½®ç°" class="header-anchor">#</a> å›¾ç‰‡ç½®ç°</h3> <div class="language-js extra-class"><pre class="language-js"><code>	<span class="token comment">/**@type {HTMLCanvasElement} */</span>
	img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span> width<span class="token punctuation">,</span> height <span class="token punctuation">}</span> <span class="token operator">=</span> img<span class="token punctuation">;</span>
		ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> imgDt <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getImageData</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> data <span class="token operator">=</span> imgDt<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">const</span> <span class="token punctuation">[</span>r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token keyword">const</span> lm <span class="token operator">=</span> <span class="token number">0.299</span> <span class="token operator">*</span> r <span class="token operator">+</span> <span class="token number">0.587</span> <span class="token operator">*</span> g <span class="token operator">+</span> <span class="token number">0.114</span> <span class="token operator">*</span> b<span class="token punctuation">;</span>
			data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> lm<span class="token punctuation">;</span>
			data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> lm<span class="token punctuation">;</span>
			data<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> lm<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		ctx<span class="token punctuation">.</span><span class="token function">putImageData</span><span class="token punctuation">(</span>imgDt<span class="token punctuation">,</span> <span class="token number">800</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="é©¬èµ›å…‹å›¾ç‰‡"><a href="#é©¬èµ›å…‹å›¾ç‰‡" class="header-anchor">#</a> é©¬èµ›å…‹å›¾ç‰‡</h3> <div class="language-js extra-class"><pre class="language-js"><code>img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span> width<span class="token punctuation">,</span> height <span class="token punctuation">}</span> <span class="token operator">=</span> img<span class="token punctuation">;</span>
		ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> imgDt <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getImageData</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> data <span class="token operator">=</span> imgDt<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> y <span class="token operator">&lt;</span> height<span class="token punctuation">;</span> y <span class="token operator">+=</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> x <span class="token operator">&lt;</span> width<span class="token punctuation">;</span> x <span class="token operator">+=</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">let</span> ind <span class="token operator">=</span> <span class="token punctuation">(</span>y <span class="token operator">*</span> width <span class="token operator">+</span> x<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4</span><span class="token punctuation">;</span>
				<span class="token keyword">const</span> <span class="token punctuation">[</span>r<span class="token punctuation">,</span> g<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>data<span class="token punctuation">[</span>ind<span class="token punctuation">]</span><span class="token punctuation">,</span> data<span class="token punctuation">[</span>ind <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> data<span class="token punctuation">[</span>ind <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
				ctx<span class="token punctuation">.</span>fillStyle <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">rgb(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>r<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>g<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
				ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> size<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">æ›´æ–°æ—¶é—´:</span> <span class="time">2023/06/20 æ˜ŸæœŸäºŒ  10:12:12</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/æ›´å¤š/æ‚ä¸ƒæ‚å…«.html">
        æ‚ä¸ƒæ‚å…«
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.bbc43154.js" defer></script><script src="/assets/js/2.9fe5dad5.js" defer></script><script src="/assets/js/24.d769d268.js" defer></script>
  </body>
</html>
